<?xml version="1.0" encoding="UTF-8"?><!--
			Generated by Ptolemy II at Thu Sep 23 15:43:08 PDT 2010.
		--><entity class="ptolemy.actor.TypedCompositeActor" name="new_swimmingpool"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="stopTime" value="10.0"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="maxStepSize" value="0.3"/></property><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.kernel.util.Attribute" name="annotation1"><property class="ptolemy.kernel.util.Location" name="_location" value="10.0, 70.0"/><property class="ptolemy.kernel.util.SingletonConfigurableAttribute" name="_iconDescription"><configure><svg><text style="font-size:14; font-family:sanserif; fill:blue" x="20" y="20">To run the model, follow these steps:
1. To automatically layout the actors, 
   on the Mac type 'Command-t'
   under Windows, type 'Ctrl-t'
   or use the Graph -&gt; Automatic Layout menu choice.

2. Connect a TimedPlotter from the Actors -&gt; Sinks
   palette in the upper left tree widget to one of the
   relations.

3. To run the model, choose View -&gt; Run Window.
   Feel free to modify the parameters in the run window.

For more help, choose Help from the upper menu bar.</text></svg></configure></property><property class="ptolemy.data.expr.Parameter" name="_hideName"/></property><entity class="ptolemy.domains.modal.modal.ModalModel" name="Theromostat"><property class="ptolemy.vergil.modal.modal.ModalTableauFactory" name="_tableauFactory"/><property class="ptolemy.data.expr.Parameter" name="T_max" value="32.000000"/><property class="ptolemy.data.expr.Parameter" name="T_min" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="inflow" value="0.010000"/><property class="ptolemy.data.expr.Parameter" name="T_inflow" value="15.000000"/><property class="ptolemy.data.expr.Parameter" name="T_ambient" value="25.000000"/><property class="ptolemy.data.expr.Parameter" name="T_heat" value="40.000000"/><property class="ptolemy.data.expr.Parameter" name="ambient" value="0.005000"/><property class="ptolemy.data.expr.Parameter" name="heat" value="0.008333"/><port class="ptolemy.domains.modal.modal.ModalPort" name="T"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="32.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.ModalPort" name="level"><property name="input"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/></port><entity class="ptolemy.domains.modal.modal.ModalController" name="_Controller"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.kernel.util.Attribute" name="annotation"><property class="ptolemy.vergil.basic.NodeControllerFactory" name="_controllerFactory"/><property class="ptolemy.vergil.toolbox.AnnotationEditorFactory" name="_editorFactory"/><property class="ptolemy.moml.LibraryAttribute" name="_library"><configure><entity class="ptolemy.kernel.CompositeEntity" name="state library"><input source="ptolemy/configs/basicUtilities.xml"/><entity class="ptolemy.domains.modal.kernel.State" name="state"><property class="ptolemy.kernel.util.Attribute" name="_centerName"/><property class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/></entity></entity></configure></property></property><property class="ptolemy.kernel.util.StringAttribute" name="initialStateName" value="HeatOff_PumpOff"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="T"><property name="input"/><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="32.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="input"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/></port><entity class="ptolemy.domains.modal.kernel.State" name="HeatOff_PumpOff"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="HeatOff_PumpOff"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><entity class="ptolemy.domains.modal.kernel.State" name="HeatOn_PumpOff"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="HeatOn_PumpOff"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><entity class="ptolemy.domains.modal.kernel.State" name="HeatOff_PumpOn"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="HeatOff_PumpOn"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><entity class="ptolemy.domains.modal.kernel.State" name="HeatOn_PumpOn"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="HeatOn_PumpOn"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><relation class="ptolemy.domains.modal.kernel.Transition" name="id5cid5bid5d"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="level &lt; level_min &amp;&amp; T &lt; T_min"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOn_PumpOn.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id65id5bid66"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="level &gt; level_min &amp;&amp; T &lt; T_min"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOn_PumpOff.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id6eid66id5b"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &gt; T_max &amp;&amp; level &gt; level_min"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOff_PumpOff.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id76id5did5b"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &gt; T_max &amp;&amp; level &gt; level_max"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOff_PumpOff.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id7eid5bid7f"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &gt; T_min &amp;&amp; level &lt; level_min"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOff_PumpOn.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id87id7fid5b"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &gt; T_min &amp;&amp; level &gt;= level_max"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOff_PumpOff.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id8fid5did7f"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &gt;= T_max &amp;&amp; level &lt; level_max"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOff_PumpOn.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id97id66id5d"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &lt; T_max &amp;&amp; level &lt;= level_min"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOn_PumpOn.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="id9fid66id7f"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &gt;= T_max &amp;&amp; level &lt; level_min"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOff_PumpOn.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="ida7id7fid66"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &lt;= T_min &amp;&amp; level &gt;= level_max"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOn_PumpOff.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="idafid5did66"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &lt; T_max &amp;&amp; level &gt;= level_max"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOn_PumpOff.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="idb7id7fid5d"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="T &lt;= T_min &amp;&amp; level &lt; level_max"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="HeatOn_PumpOn.T.initialState=T"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><link port="HeatOn_PumpOn.incomingPort" relation="id5cid5bid5d"/><link port="HeatOff_PumpOff.outgoingPort" relation="id5cid5bid5d"/><link port="HeatOn_PumpOff.incomingPort" relation="id65id5bid66"/><link port="HeatOff_PumpOff.outgoingPort" relation="id65id5bid66"/><link port="HeatOff_PumpOff.incomingPort" relation="id6eid66id5b"/><link port="HeatOn_PumpOff.outgoingPort" relation="id6eid66id5b"/><link port="HeatOff_PumpOff.incomingPort" relation="id76id5did5b"/><link port="HeatOn_PumpOn.outgoingPort" relation="id76id5did5b"/><link port="HeatOff_PumpOn.incomingPort" relation="id7eid5bid7f"/><link port="HeatOff_PumpOff.outgoingPort" relation="id7eid5bid7f"/><link port="HeatOff_PumpOff.incomingPort" relation="id87id7fid5b"/><link port="HeatOff_PumpOn.outgoingPort" relation="id87id7fid5b"/><link port="HeatOff_PumpOn.incomingPort" relation="id8fid5did7f"/><link port="HeatOn_PumpOn.outgoingPort" relation="id8fid5did7f"/><link port="HeatOn_PumpOn.incomingPort" relation="id97id66id5d"/><link port="HeatOn_PumpOff.outgoingPort" relation="id97id66id5d"/><link port="HeatOff_PumpOn.incomingPort" relation="id9fid66id7f"/><link port="HeatOn_PumpOff.outgoingPort" relation="id9fid66id7f"/><link port="HeatOn_PumpOff.incomingPort" relation="ida7id7fid66"/><link port="HeatOff_PumpOn.outgoingPort" relation="ida7id7fid66"/><link port="HeatOn_PumpOff.incomingPort" relation="idafid5did66"/><link port="HeatOn_PumpOn.outgoingPort" relation="idafid5did66"/><link port="HeatOn_PumpOn.incomingPort" relation="idb7id7fid5d"/><link port="HeatOff_PumpOn.outgoingPort" relation="idb7id7fid5d"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="HeatOff_PumpOff"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="T_max" value="32.000000"/><property class="ptolemy.data.expr.Parameter" name="T_min" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="inflow" value="0.010000"/><property class="ptolemy.data.expr.Parameter" name="T_inflow" value="15.000000"/><property class="ptolemy.data.expr.Parameter" name="T_ambient" value="25.000000"/><property class="ptolemy.data.expr.Parameter" name="T_heat" value="40.000000"/><property class="ptolemy.data.expr.Parameter" name="ambient" value="0.005000"/><property class="ptolemy.data.expr.Parameter" name="heat" value="0.008333"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="T"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="32.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="input"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!((level &gt;= level_min) &amp;&amp; (T &gt;= T_min))"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="T"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="27.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="TFlowEquation"><property name="expression" value=" -ambient * (T - T_ambient)"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="T"/><relation class="ptolemy.actor.TypedIORelation" name="TrelationBetweenIntegratorAndExpression"/><link port="T.derivative" relation="TrelationBetweenIntegratorAndExpression"/><link port="TFlowEquation.output" relation="TrelationBetweenIntegratorAndExpression"/><link port="T" relation="T"/><link port="T.state" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="T"/><link port="T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/>T BBB 1<link port="invariant.T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="HeatOn_PumpOff"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="T_max" value="32.000000"/><property class="ptolemy.data.expr.Parameter" name="T_min" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="inflow" value="0.010000"/><property class="ptolemy.data.expr.Parameter" name="T_inflow" value="15.000000"/><property class="ptolemy.data.expr.Parameter" name="T_ambient" value="25.000000"/><property class="ptolemy.data.expr.Parameter" name="T_heat" value="40.000000"/><property class="ptolemy.data.expr.Parameter" name="ambient" value="0.005000"/><property class="ptolemy.data.expr.Parameter" name="heat" value="0.008333"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="T"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="32.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="input"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!((level &gt;= level_min) &amp;&amp; (T &lt;= T_max))"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="T"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="27.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="TFlowEquation"><property name="expression" value=" -ambient * (T - T_ambient) - heat * (T - T_heat)"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="T"/><relation class="ptolemy.actor.TypedIORelation" name="TrelationBetweenIntegratorAndExpression"/><link port="T.derivative" relation="TrelationBetweenIntegratorAndExpression"/><link port="TFlowEquation.output" relation="TrelationBetweenIntegratorAndExpression"/><link port="T" relation="T"/><link port="T.state" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="T"/><link port="T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/>T BBB 1<link port="invariant.T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="HeatOff_PumpOn"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="T_max" value="32.000000"/><property class="ptolemy.data.expr.Parameter" name="T_min" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="inflow" value="0.010000"/><property class="ptolemy.data.expr.Parameter" name="T_inflow" value="15.000000"/><property class="ptolemy.data.expr.Parameter" name="T_ambient" value="25.000000"/><property class="ptolemy.data.expr.Parameter" name="T_heat" value="40.000000"/><property class="ptolemy.data.expr.Parameter" name="ambient" value="0.005000"/><property class="ptolemy.data.expr.Parameter" name="heat" value="0.008333"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="T"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="32.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="input"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!((level &lt;= level_max) &amp;&amp; (T &gt;= T_min))"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="T"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="27.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="TFlowEquation"><property name="expression" value=" -ambient * (T - T_ambient) - inflow * (T - T_inflow)"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="T"/><relation class="ptolemy.actor.TypedIORelation" name="TrelationBetweenIntegratorAndExpression"/><link port="T.derivative" relation="TrelationBetweenIntegratorAndExpression"/><link port="TFlowEquation.output" relation="TrelationBetweenIntegratorAndExpression"/><link port="T" relation="T"/><link port="T.state" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="T"/><link port="T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/>T BBB 1<link port="invariant.T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="HeatOn_PumpOn"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="T_max" value="32.000000"/><property class="ptolemy.data.expr.Parameter" name="T_min" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="inflow" value="0.010000"/><property class="ptolemy.data.expr.Parameter" name="T_inflow" value="15.000000"/><property class="ptolemy.data.expr.Parameter" name="T_ambient" value="25.000000"/><property class="ptolemy.data.expr.Parameter" name="T_heat" value="40.000000"/><property class="ptolemy.data.expr.Parameter" name="ambient" value="0.005000"/><property class="ptolemy.data.expr.Parameter" name="heat" value="0.008333"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="T"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="27.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="32.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="input"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!((level &lt;= level_max) &amp;&amp; (T &lt;= T_max))"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="T"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="27.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="TFlowEquation"><property name="expression" value=" -ambient * (T - T_ambient) - heat * (T - T_heat) - inflow * (T - T_inflow)"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="T"><property name="input"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="T"/><relation class="ptolemy.actor.TypedIORelation" name="TrelationBetweenIntegratorAndExpression"/><link port="T.derivative" relation="TrelationBetweenIntegratorAndExpression"/><link port="TFlowEquation.output" relation="TrelationBetweenIntegratorAndExpression"/><link port="T" relation="T"/><link port="T.state" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="T"/><link port="T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/><link port="TFlowEquation.T" relation="T"/>T BBB 1<link port="invariant.T" relation="T"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><relation class="ptolemy.actor.TypedIORelation" name="TRelation"/><link port="T" relation="TRelation"/><link port="_Controller.T" relation="TRelation"/><link port="HeatOff_PumpOff.T" relation="TRelation"/><link port="HeatOn_PumpOff.T" relation="TRelation"/><link port="HeatOff_PumpOn.T" relation="TRelation"/><link port="HeatOn_PumpOn.T" relation="TRelation"/><relation class="ptolemy.actor.TypedIORelation" name="levelRelation"/><link port="level" relation="levelRelation"/><link port="_Controller.level" relation="levelRelation"/><link port="HeatOff_PumpOff.level" relation="levelRelation"/><link port="HeatOn_PumpOff.level" relation="levelRelation"/><link port="HeatOff_PumpOn.level" relation="levelRelation"/><link port="HeatOn_PumpOn.level" relation="levelRelation"/></entity><entity class="ptolemy.domains.modal.modal.ModalModel" name="pump"><property class="ptolemy.vergil.modal.modal.ModalTableauFactory" name="_tableauFactory"/><property class="ptolemy.data.expr.Parameter" name="f_leak" value="0.040000"/><property class="ptolemy.data.expr.Parameter" name="f_in" value="0.200000"/><property class="ptolemy.data.expr.Parameter" name="timeout" value="0.500000"/><port class="ptolemy.domains.modal.modal.ModalPort" name="level"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.ModalPort" name="timer"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="10.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="0.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><entity class="ptolemy.domains.modal.modal.ModalController" name="_Controller"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.kernel.util.Attribute" name="annotation"><property class="ptolemy.vergil.basic.NodeControllerFactory" name="_controllerFactory"/><property class="ptolemy.vergil.toolbox.AnnotationEditorFactory" name="_editorFactory"/><property class="ptolemy.moml.LibraryAttribute" name="_library"><configure><entity class="ptolemy.kernel.CompositeEntity" name="state library"><input source="ptolemy/configs/basicUtilities.xml"/><entity class="ptolemy.domains.modal.kernel.State" name="state"><property class="ptolemy.kernel.util.Attribute" name="_centerName"/><property class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/></entity></entity></configure></property></property><property class="ptolemy.kernel.util.StringAttribute" name="initialStateName" value="steadyOff"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="input"/><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="timer"><property name="input"/><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="10.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="0.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><entity class="ptolemy.domains.modal.kernel.State" name="steadyOn"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="steadyOn"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><entity class="ptolemy.domains.modal.kernel.State" name="on_TurnOff"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="on_TurnOff"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><entity class="ptolemy.domains.modal.kernel.State" name="off_TurnOn"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="off_TurnOn"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><entity class="ptolemy.domains.modal.kernel.State" name="steadyOff"><property class="ptolemy.kernel.util.StringAttribute" name="refinementName" value="steadyOff"/><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory" name="_controllerFactory"/><port class="ptolemy.kernel.ComponentPort" name="incomingPort"/><port class="ptolemy.kernel.ComponentPort" name="outgoingPort"/></entity><relation class="ptolemy.domains.modal.kernel.Transition" name="ide9ide8idea"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="level &gt;= level_max"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="on_TurnOff.level.initialState=level;on_TurnOff.timer.initialState=timer;on_TurnOff.timer.initialState=0"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="idefideaidf0"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="timer &gt;= timeout"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="steadyOff.level.initialState=level;steadyOff.timer.initialState=timer"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="idf4idf0idf5"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="level &lt;= level_min"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="off_TurnOn.level.initialState=level;off_TurnOn.timer.initialState=timer;off_TurnOn.timer.initialState=0"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><relation class="ptolemy.domains.modal.kernel.Transition" name="idfaidf5ide8"><property class="ptolemy.kernel.util.StringAttribute" name="guardExpression" value="timer &gt;= timeout"/><property class="ptolemy.domains.modal.kernel.OutputActionsAttribute" name="outputActions" value=""/><property class="ptolemy.domains.modal.kernel.CommitActionsAttribute" name="setActions" value="steadyOn.level.initialState=level;steadyOn.timer.initialState=timer"/><property class="ptolemy.data.expr.Parameter" name="reset" value="true"/><property class="ptolemy.data.expr.Parameter" name="preemptive" value="false"/></relation><link port="on_TurnOff.incomingPort" relation="ide9ide8idea"/><link port="steadyOn.outgoingPort" relation="ide9ide8idea"/><link port="steadyOff.incomingPort" relation="idefideaidf0"/><link port="on_TurnOff.outgoingPort" relation="idefideaidf0"/><link port="off_TurnOn.incomingPort" relation="idf4idf0idf5"/><link port="steadyOff.outgoingPort" relation="idf4idf0idf5"/><link port="steadyOn.incomingPort" relation="idfaidf5ide8"/><link port="off_TurnOn.outgoingPort" relation="idfaidf5ide8"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="steadyOn"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="f_leak" value="0.040000"/><property class="ptolemy.data.expr.Parameter" name="f_in" value="0.200000"/><property class="ptolemy.data.expr.Parameter" name="timeout" value="0.500000"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="timer"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="10.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="0.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!((level &gt;= level_min) &amp;&amp; (level &lt;= level_max))"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="level"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="2.200000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="levelFlowEquation"><property name="expression" value="f_in - f_leak"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="level"/><relation class="ptolemy.actor.TypedIORelation" name="levelrelationBetweenIntegratorAndExpression"/><link port="level.derivative" relation="levelrelationBetweenIntegratorAndExpression"/><link port="levelFlowEquation.output" relation="levelrelationBetweenIntegratorAndExpression"/><link port="level" relation="level"/><link port="level.state" relation="level"/><entity class="ptolemy.domains.continuous.lib.Integrator" name="timer"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="0.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="timerFlowEquation"><property name="expression" value="0"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="timer"/><relation class="ptolemy.actor.TypedIORelation" name="timerrelationBetweenIntegratorAndExpression"/><link port="timer.derivative" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timerFlowEquation.output" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timer" relation="timer"/><link port="timer.state" relation="timer"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="timer"/><link port="timer" relation="timer"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="on_TurnOff"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="f_leak" value="0.040000"/><property class="ptolemy.data.expr.Parameter" name="f_in" value="0.200000"/><property class="ptolemy.data.expr.Parameter" name="timeout" value="0.500000"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="timer"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="10.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="0.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!(timer &lt;= timeout)"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="timer"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="timer"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="0.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="timerFlowEquation"><property name="expression" value="1"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="timer"/><relation class="ptolemy.actor.TypedIORelation" name="timerrelationBetweenIntegratorAndExpression"/><link port="timer.derivative" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timerFlowEquation.output" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timer" relation="timer"/><link port="timer.state" relation="timer"/><entity class="ptolemy.domains.continuous.lib.Integrator" name="level"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="2.200000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="levelFlowEquation"><property name="expression" value=" -f_leak / timeout"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="level"/><relation class="ptolemy.actor.TypedIORelation" name="levelrelationBetweenIntegratorAndExpression"/><link port="level.derivative" relation="levelrelationBetweenIntegratorAndExpression"/><link port="levelFlowEquation.output" relation="levelrelationBetweenIntegratorAndExpression"/><link port="level" relation="level"/><link port="level.state" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="timer"/><link port="timer" relation="timer"/>timer BBB 1<link port="invariant.timer" relation="timer"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="off_TurnOn"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="f_leak" value="0.040000"/><property class="ptolemy.data.expr.Parameter" name="f_in" value="0.200000"/><property class="ptolemy.data.expr.Parameter" name="timeout" value="0.500000"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="timer"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="10.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="0.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!(timer &lt;= timeout)"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="timer"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="level"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="2.200000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="levelFlowEquation"><property name="expression" value="f_in / timeout"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="level"/><relation class="ptolemy.actor.TypedIORelation" name="levelrelationBetweenIntegratorAndExpression"/><link port="level.derivative" relation="levelrelationBetweenIntegratorAndExpression"/><link port="levelFlowEquation.output" relation="levelrelationBetweenIntegratorAndExpression"/><link port="level" relation="level"/><link port="level.state" relation="level"/><entity class="ptolemy.domains.continuous.lib.Integrator" name="timer"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="0.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="timerFlowEquation"><property name="expression" value="1"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="timer"/><relation class="ptolemy.actor.TypedIORelation" name="timerrelationBetweenIntegratorAndExpression"/><link port="timer.derivative" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timerFlowEquation.output" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timer" relation="timer"/><link port="timer.state" relation="timer"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="timer"/><link port="timer" relation="timer"/>timer BBB 1<link port="invariant.timer" relation="timer"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><entity class="ptolemy.domains.modal.modal.Refinement" name="steadyOff"><property class="ptolemy.domains.continuous.kernel.ContinuousDirector" name="Continuous Director"/><property class="ptolemy.kernel.util.Attribute" name="InitialState"/><property class="ptolemy.kernel.util.Attribute" name="EntryAction"/><property class="ptolemy.kernel.util.Attribute" name="ExitAction"/><property class="ptolemy.data.expr.Parameter" name="f_leak" value="0.040000"/><property class="ptolemy.data.expr.Parameter" name="f_in" value="0.200000"/><property class="ptolemy.data.expr.Parameter" name="timeout" value="0.500000"/><port class="ptolemy.domains.modal.modal.RefinementPort" name="level"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="2.200000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="2.600000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><port class="ptolemy.domains.modal.modal.RefinementPort" name="timer"><property name="output"/><property class="ptolemy.data.expr.Parameter" name="minValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="maxValue" value="10.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMinValue" value="0.000000"/><property class="ptolemy.data.expr.Parameter" name="initialMaxValue" value="0.000000"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port><entity class="ptolemy.actor.lib.Expression" name="invariant"><property name="expression" value="!((level &gt;= 0) &amp;&amp; (level &lt;= 1000000))"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="boolean"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port><port class="ptolemy.actor.TypedIOPort" name="level"><property name="input"/></port></entity><entity class="ptolemy.actor.lib.ThrowModelError" name="throwModelError"><property name="message" value="AssertionModelError"/></entity><entity class="ptolemy.domains.continuous.lib.Integrator" name="level"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="2.200000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="levelFlowEquation"><property name="expression" value=" -f_leak"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="level"/><relation class="ptolemy.actor.TypedIORelation" name="levelrelationBetweenIntegratorAndExpression"/><link port="level.derivative" relation="levelrelationBetweenIntegratorAndExpression"/><link port="levelFlowEquation.output" relation="levelrelationBetweenIntegratorAndExpression"/><link port="level" relation="level"/><link port="level.state" relation="level"/><entity class="ptolemy.domains.continuous.lib.Integrator" name="timer"><property xmlns:xalan="http://xml.apache.org/xslt" class="ptolemy.data.expr.Parameter" name="initialState" value="0.000000"/><port class="ptolemy.actor.TypedIOPort" name="state"><property name="state"/></port><port class="ptolemy.actor.TypedIOPort" name="derivative"><property name="derivative"/></port></entity><entity class="ptolemy.actor.lib.Expression" name="timerFlowEquation"><property name="expression" value="0"/><port class="ptolemy.actor.TypedIOPort" name="output"><property name="output"/><property class="ptolemy.actor.TypeAttribute" name="_type" value="double"/></port></entity><relation class="ptolemy.actor.TypedIORelation" name="timer"/><relation class="ptolemy.actor.TypedIORelation" name="timerrelationBetweenIntegratorAndExpression"/><link port="timer.derivative" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timerFlowEquation.output" relation="timerrelationBetweenIntegratorAndExpression"/><link port="timer" relation="timer"/><link port="timer.state" relation="timer"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><link port="level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="timer"/><link port="timer" relation="timer"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/>level BBB 2<link port="invariant.level" relation="level"/><relation class="ptolemy.actor.TypedIORelation" name="relationBetweenInvariantAndThrowModelError"/><link port="invariant.output" relation="relationBetweenInvariantAndThrowModelError"/><link port="throwModelError.input" relation="relationBetweenInvariantAndThrowModelError"/></entity><relation class="ptolemy.actor.TypedIORelation" name="levelRelation"/><link port="level" relation="levelRelation"/><link port="_Controller.level" relation="levelRelation"/><link port="steadyOn.level" relation="levelRelation"/><link port="on_TurnOff.level" relation="levelRelation"/><link port="off_TurnOn.level" relation="levelRelation"/><link port="steadyOff.level" relation="levelRelation"/><relation class="ptolemy.actor.TypedIORelation" name="timerRelation"/><link port="timer" relation="timerRelation"/><link port="_Controller.timer" relation="timerRelation"/><link port="steadyOn.timer" relation="timerRelation"/><link port="on_TurnOff.timer" relation="timerRelation"/><link port="off_TurnOn.timer" relation="timerRelation"/><link port="steadyOff.timer" relation="timerRelation"/></entity><property class="ptolemy.data.expr.Parameter" name="level_max" value="2.600000"/><property class="ptolemy.data.expr.Parameter" name="level_min" value="2.200000"/><relation class="ptolemy.actor.TypedIORelation" name="T"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><relation class="ptolemy.actor.TypedIORelation" name="level"/><relation class="ptolemy.actor.TypedIORelation" name="timer"/><link port="Theromostat.T" relation="T"/><link port="Theromostat.level" relation="level"/><link port="pump.level" relation="level"/><link port="pump.timer" relation="timer"/></entity>