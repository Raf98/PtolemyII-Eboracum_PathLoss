<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="pt">
<head>
<!-- Generated by javadoc (15) on Mon May 17 06:15:16 BRT 2021 -->
<title>CTBaseIntegrator</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-05-17">
<meta name="description" content="declaration: package: ptolemy.domains.ct.kernel, class: CTBaseIntegrator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">ptolemy.domains.ct.kernel</a></div>
<h1 title="Class CTBaseIntegrator" class="title">Class CTBaseIntegrator</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">ptolemy.kernel.util.NamedObj
<div class="inheritance">ptolemy.kernel.InstantiableNamedObj
<div class="inheritance">ptolemy.kernel.Entity
<div class="inheritance">ptolemy.kernel.ComponentEntity
<div class="inheritance">ptolemy.actor.AtomicActor
<div class="inheritance">ptolemy.actor.TypedAtomicActor
<div class="inheritance">ptolemy.domains.ct.kernel.CTBaseIntegrator</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Serializable</code>, <code>java.lang.Cloneable</code>, <code>ptolemy.actor.Actor</code>, <code>ptolemy.actor.Executable</code>, <code>ptolemy.actor.FiringsRecordable</code>, <code>ptolemy.actor.Initializable</code>, <code>ptolemy.actor.TimedActor</code>, <code>ptolemy.actor.TypedActor</code>, <code><a href="CTDynamicActor.html" title="interface in ptolemy.domains.ct.kernel">CTDynamicActor</a></code>, <code><a href="CTStatefulActor.html" title="interface in ptolemy.domains.ct.kernel">CTStatefulActor</a></code>, <code><a href="CTStepSizeControlActor.html" title="interface in ptolemy.domains.ct.kernel">CTStepSizeControlActor</a></code>, <code>ptolemy.kernel.util.Changeable</code>, <code>ptolemy.kernel.util.Debuggable</code>, <code>ptolemy.kernel.util.DebugListener</code>, <code>ptolemy.kernel.util.Derivable</code>, <code>ptolemy.kernel.util.Instantiable</code>, <code>ptolemy.kernel.util.ModelErrorHandler</code>, <code>ptolemy.kernel.util.MoMLExportable</code>, <code>ptolemy.kernel.util.Moveable</code>, <code>ptolemy.kernel.util.Nameable</code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../lib/Integrator.html" title="class in ptolemy.domains.ct.lib">Integrator</a></code></dd>
</dl>
<hr>
<pre>public class <span class="type-name-label">CTBaseIntegrator</span>
extends ptolemy.actor.TypedAtomicActor
implements ptolemy.actor.TimedActor, <a href="CTStepSizeControlActor.html" title="interface in ptolemy.domains.ct.kernel">CTStepSizeControlActor</a>, <a href="CTDynamicActor.html" title="interface in ptolemy.domains.ct.kernel">CTDynamicActor</a>, <a href="CTStatefulActor.html" title="interface in ptolemy.domains.ct.kernel">CTStatefulActor</a></pre>
<div class="block">The base class for integrators in the continuous-time (CT) domain.
 An integrator has one input port and one output port. Conceptually,
 the input is the derivative of the output w.r.t. time. So an ordinary
 differential equation (ODE) dx/dt = f(x, t) can be built by:
 <P>
 <pre>
                +---------------+
         dx/dt  |               |   x
     +--------->|   Integrator  |---------+----->
     |          |               |         |
     |          +---------------+         |
     |                                    |
     |             |---------|            |
     +-------------| f(x, t) |<-----------+
                   |---------|
 </pre>

 <P>
 An integrator is a dynamic actor that can emit a token (a state) at a time
 without knowing the input at that time. An integrator is a step size control
 actor that can control the accuracy of the ODE solution by adjusting step
 sizes. An integrator has memory, which is its state.
 <P>
 To help solving the ODE, a set of internal variables are used:<BR>
 <I>state</I>: This is the value of the state variable at a time point,
 which has beed confirmed by all the step size control actors.
 <I>tentative state</I>: This is the value of the state variable
 which has not been confirmed. It is a starting point for other actors
 to estimate the accuracy of this integration step.
 <I>history</I>: The previous states and their derivatives. History may
 be used by multistep integration methods.
 <P>
 For different ODE solving methods, the functionality
 of an integrator may be different. The delegation and strategy design
 patterns are used in this class, basic abstract ODESolver class, and the
 concrete ODE solver classes. Some solver-dependent methods of integrators
 delegate to the concrete ODE solvers.
 <P>
 An integrator has one parameter: the <i>initialState</i>. At the
 initialization stage of the simulation, the state of the integrator is
 set to the initial state. Changes of the <i>initialState</i> made during
 execution cause the state to be reset to the specified value.
 The default value of the parameter is 0.0 of type double.
 <P>
 An integrator can possibly have several auxiliary variables for the
 the ODE solvers to use. The number of the auxiliary variables is checked
 before each iteration. The ODE solver class provides the number of
 variables needed for that particular solver.
 The auxiliary variables can be set and get by setAuxVariables()
 and getAuxVariables() methods.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>Ptolemy II 0.2</dd>
<dt>Version:</dt>
<dd>$Id: CTBaseIntegrator.java 57040 2010-01-27 20:52:32Z cxh $</dd>
<dt>Author:</dt>
<dd>Jie Liu, Haiyang Zheng</dd>
<dt>See Also:</dt>
<dd><a href="ODESolver.html" title="class in ptolemy.domains.ct.kernel"><code>ODESolver</code></a>, 
<a href="CTDirector.html" title="class in ptolemy.domains.ct.kernel"><code>CTDirector</code></a>, 
<a href="../../../../serialized-form.html#ptolemy.domains.ct.kernel.CTBaseIntegrator">Serialized Form</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Nested Classes</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Class</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>private static class&nbsp;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="CTBaseIntegrator.DoubleDouble.html" title="class in ptolemy.domains.ct.kernel">CTBaseIntegrator.DoubleDouble</a></span></code></th>
<td class="col-last">
<div class="block">A data structure for storing two double numbers.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>protected class&nbsp;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="CTBaseIntegrator.History.html" title="class in ptolemy.domains.ct.kernel">CTBaseIntegrator.History</a></span></code></th>
<td class="col-last">
<div class="block">The history information, state and derivatives, at equidistance
  past time points.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inherited-list">
<h2 id="nested.classes.inherited.from.class.ptolemy.kernel.Entity">Nested classes/interfaces inherited from class&nbsp;ptolemy.kernel.Entity</h2>
<code>ptolemy.kernel.Entity.ContainedObjectsIterator</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Fields</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Field</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>private double[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_auxVariables">_auxVariables</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_derivative">_derivative</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>protected <a href="CTBaseIntegrator.History.html" title="class in ptolemy.domains.ct.kernel">CTBaseIntegrator.History</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_history">_history</a></span></code></th>
<td class="col-last">
<div class="block">The history of states and their derivative.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_state">_state</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_storedState">_storedState</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_successful">_successful</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_tentativeDerivative">_tentativeDerivative</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_tentativeState">_tentativeState</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>ptolemy.data.expr.Parameter</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#initialState">initialState</a></span></code></th>
<td class="col-last">
<div class="block">The initial state of type DoubleToken.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>ptolemy.actor.TypedIOPort</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#input">input</a></span></code></th>
<td class="col-last">
<div class="block">The input port.</div>
</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>ptolemy.actor.TypedIOPort</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#output">output</a></span></code></th>
<td class="col-last">
<div class="block">The output port.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.actor.AtomicActor">Fields inherited from class&nbsp;ptolemy.actor.AtomicActor</h3>
<code>_actorFiringListeners, _initializables, _notifyingActorFiring, _stopRequested</code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.kernel.util.NamedObj">Fields inherited from class&nbsp;ptolemy.kernel.util.NamedObj</h3>
<code>_changeListeners, _changeLock, _changeRequests, _debugging, _debugListeners, _elementName, _isPersistent, _verbose, _workspace, ATTRIBUTES, CLASSNAME, COMPLETE, CONTENTS, DEEP, FULLNAME, LINKS</code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.actor.Executable">Fields inherited from interface&nbsp;ptolemy.actor.Executable</h3>
<code>COMPLETED, NOT_READY, STOP_ITERATING</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(ptolemy.kernel.CompositeEntity,java.lang.String)">CTBaseIntegrator</a></span>&#8203;(ptolemy.kernel.CompositeEntity&nbsp;container,
java.lang.String&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Construct an integrator, with a name and a container.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#attributeChanged(ptolemy.kernel.util.Attribute)">attributeChanged</a></span>&#8203;(ptolemy.kernel.util.Attribute&nbsp;attribute)</code></th>
<td class="col-last">
<div class="block">If the specified attribute is <i>initialState</i>, then reset
  the state of the integrator to its value.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#clearHistory()">clearHistory</a></span>()</code></th>
<td class="col-last">
<div class="block">Clear the history information.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#emitCurrentStates()">emitCurrentStates</a></span>()</code></th>
<td class="col-last">
<div class="block">Emit the tentative output, which is the current state of the
  integrator.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#fire()">fire</a></span>()</code></th>
<td class="col-last">
<div class="block">Delegate to the integratorFire() method of the current ODE solver.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>double[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getAuxVariables()">getAuxVariables</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the auxiliary variables in a double array.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getDerivative()">getDerivative</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the derivative of the latest updated resolved state.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>double[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getHistory(int)">getHistory</a></span>&#8203;(int&nbsp;index)</code></th>
<td class="col-last">
<div class="block">Return the history information of the last index-th step.</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getHistoryCapacity()">getHistoryCapacity</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the history capacity.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getState()">getState</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the state of the integrator.</div>
</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code>double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getTentativeDerivative()">getTentativeDerivative</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the tentative derivative.</div>
</td>
</tr>
<tr class="alt-color" id="i10">
<td class="col-first"><code>double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getTentativeState()">getTentativeState</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the tentative state.</div>
</td>
</tr>
<tr class="row-color" id="i11">
<td class="col-first"><code>int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getValidHistoryCount()">getValidHistoryCount</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the number of valid history entries.</div>
</td>
</tr>
<tr class="alt-color" id="i12">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#goToMarkedState()">goToMarkedState</a></span>()</code></th>
<td class="col-last">
<div class="block">Go to the marked state.</div>
</td>
</tr>
<tr class="row-color" id="i13">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#initialize()">initialize</a></span>()</code></th>
<td class="col-last">
<div class="block">Initialize the integrator.</div>
</td>
</tr>
<tr class="alt-color" id="i14">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#isOutputAccurate()">isOutputAccurate</a></span>()</code></th>
<td class="col-last">
<div class="block">Always return true because an integrator's output is always accurate
  no matter what step size is chosen.</div>
</td>
</tr>
<tr class="row-color" id="i15">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#isStateAccurate()">isStateAccurate</a></span>()</code></th>
<td class="col-last">
<div class="block">Return true if the state is resolved successfully.</div>
</td>
</tr>
<tr class="alt-color" id="i16">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#markState()">markState</a></span>()</code></th>
<td class="col-last">
<div class="block">Mark and remember the current state.</div>
</td>
</tr>
<tr class="row-color" id="i17">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#postfire()">postfire</a></span>()</code></th>
<td class="col-last">
<div class="block">Update the state and its derivative, and push them into history if
  the history capacity is bigger than 0.</div>
</td>
</tr>
<tr class="alt-color" id="i18">
<td class="col-first"><code>double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#predictedStepSize()">predictedStepSize</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the predicted next step size.</div>
</td>
</tr>
<tr class="row-color" id="i19">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#prefire()">prefire</a></span>()</code></th>
<td class="col-last">
<div class="block">Setup the integrator to operate with the current ODE solver.</div>
</td>
</tr>
<tr class="alt-color" id="i20">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#preinitialize()">preinitialize</a></span>()</code></th>
<td class="col-last">
<div class="block">Override the base class to declare that the <i>output</i>
  does not depend on the <i>input</i> in a firing.</div>
</td>
</tr>
<tr class="row-color" id="i21">
<td class="col-first"><code>double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#refinedStepSize()">refinedStepSize</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the estimation of the refined next step size.</div>
</td>
</tr>
<tr class="alt-color" id="i22">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setAuxVariables(int,double)">setAuxVariables</a></span>&#8203;(int&nbsp;index,
double&nbsp;value)</code></th>
<td class="col-last">
<div class="block">Set the value of an auxiliary variable.</div>
</td>
</tr>
<tr class="row-color" id="i23">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setHistoryCapacity(int)">setHistoryCapacity</a></span>&#8203;(int&nbsp;cap)</code></th>
<td class="col-last">
<div class="block">Set history capacity.</div>
</td>
</tr>
<tr class="alt-color" id="i24">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setTentativeDerivative(double)">setTentativeDerivative</a></span>&#8203;(double&nbsp;value)</code></th>
<td class="col-last">
<div class="block">Set the tentative derivative, dx/dt.</div>
</td>
</tr>
<tr class="row-color" id="i25">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#setTentativeState(double)">setTentativeState</a></span>&#8203;(double&nbsp;value)</code></th>
<td class="col-last">
<div class="block">Set the tentative state.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.TypedAtomicActor">Methods inherited from class&nbsp;ptolemy.actor.TypedAtomicActor</h3>
<code>_addPort, _fireAt, _fireAt, attributeTypeChanged, clone, newPort, typeConstraintList, typeConstraints</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.AtomicActor">Methods inherited from class&nbsp;ptolemy.actor.AtomicActor</h3>
<code>_actorFiring, _actorFiring, addActorFiringListener, addInitializable, clone, connectionsChanged, createReceivers, declareDelayDependency, getCausalityInterface, getDirector, getExecutiveDirector, getManager, inputPortList, isFireFunctional, isStrict, iterate, newReceiver, outputPortList, pruneDependencies, recordFiring, removeActorFiringListener, removeDependency, removeInitializable, setContainer, stop, stopFire, terminate, wrapup</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.ComponentEntity">Methods inherited from class&nbsp;ptolemy.kernel.ComponentEntity</h3>
<code>_adjustDeferrals, _checkContainer, _getContainedObject, _propagateExistence, getContainer, instantiate, isAtomic, isOpaque, moveDown, moveToFirst, moveToIndex, moveToLast, moveUp, propagateExistence, setName</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.Entity">Methods inherited from class&nbsp;ptolemy.kernel.Entity</h3>
<code>_description, _exportMoMLContents, _removePort, _validateSettables, connectedPortList, connectedPorts, containedObjectsIterator, getAttribute, getPort, getPorts, linkedRelationList, linkedRelations, portList, removeAllPorts, setClassDefinition, uniqueName</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.InstantiableNamedObj">Methods inherited from class&nbsp;ptolemy.kernel.InstantiableNamedObj</h3>
<code>_setParent, exportMoML, getChildren, getElementName, getParent, getPrototypeList, isClassDefinition, isWithinClassDefinition</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.NamedObj">Methods inherited from class&nbsp;ptolemy.kernel.util.NamedObj</h3>
<code>_addAttribute, _adjustOverride, _attachText, _cloneFixAttributeFields, _debug, _debug, _debug, _debug, _debug, _getIndentPrefix, _isMoMLSuppressed, _markContentsDerived, _propagateValue, _recordDecoratedAttributes, _removeAttribute, _splitName, _stripNumericSuffix, addChangeListener, addDebugListener, attributeList, attributeList, deepContains, depthInHierarchy, description, description, event, executeChangeRequests, exportMoML, exportMoML, exportMoML, exportMoML, exportMoMLPlain, getAttribute, getAttributes, getChangeListeners, getClassName, getDecoratorAttribute, getDecoratorAttributes, getDerivedLevel, getDerivedList, getDisplayName, getFullName, getModelErrorHandler, getName, getName, getSource, handleModelError, isDeferringChangeRequests, isOverridden, isPersistent, lazyContainedObjectsIterator, message, propagateValue, propagateValues, removeChangeListener, removeDebugListener, requestChange, setClassName, setDeferringChangeRequests, setDerivedLevel, setDisplayName, setModelErrorHandler, setPersistent, setSource, sortContainedObjects, toplevel, toString, validateSettables, workspace</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.Actor">Methods inherited from interface&nbsp;ptolemy.actor.Actor</h3>
<code>createReceivers, getCausalityInterface, getDirector, getExecutiveDirector, getManager, inputPortList, newReceiver, outputPortList</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.Derivable">Methods inherited from interface&nbsp;ptolemy.kernel.util.Derivable</h3>
<code>getDerivedLevel, getDerivedList, propagateValue</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.Executable">Methods inherited from interface&nbsp;ptolemy.actor.Executable</h3>
<code>isFireFunctional, isStrict, iterate, stop, stopFire, terminate</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.Initializable">Methods inherited from interface&nbsp;ptolemy.actor.Initializable</h3>
<code>addInitializable, removeInitializable, wrapup</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.Nameable">Methods inherited from interface&nbsp;ptolemy.kernel.util.Nameable</h3>
<code>description, getContainer, getDisplayName, getFullName, getName, getName, setName</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="input">
<h3>input</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.actor.TypedIOPort</span>&nbsp;<span class="member-name">input</span></div>
<div class="block">The input port. This is a single port of type double.</div>
</section>
</li>
<li>
<section class="detail" id="output">
<h3>output</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.actor.TypedIOPort</span>&nbsp;<span class="member-name">output</span></div>
<div class="block">The output port. This is a single port of type double.</div>
</section>
</li>
<li>
<section class="detail" id="initialState">
<h3>initialState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.data.expr.Parameter</span>&nbsp;<span class="member-name">initialState</span></div>
<div class="block">The initial state of type DoubleToken. The default value is 0.0.</div>
</section>
</li>
<li>
<section class="detail" id="_history">
<h3>_history</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="CTBaseIntegrator.History.html" title="class in ptolemy.domains.ct.kernel">CTBaseIntegrator.History</a></span>&nbsp;<span class="member-name">_history</span></div>
<div class="block">The history of states and their derivative.
  This variable is needed by Linear Multistep (LMS) methods,
  like Trapezoidal rule and backward differential formula.
  This variable is protected so that derived classes may
  access it directly.</div>
</section>
</li>
<li>
<section class="detail" id="_auxVariables">
<h3>_auxVariables</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="member-name">_auxVariables</span></div>
</section>
</li>
<li>
<section class="detail" id="_derivative">
<h3>_derivative</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_derivative</span></div>
</section>
</li>
<li>
<section class="detail" id="_state">
<h3>_state</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_state</span></div>
</section>
</li>
<li>
<section class="detail" id="_storedState">
<h3>_storedState</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_storedState</span></div>
</section>
</li>
<li>
<section class="detail" id="_successful">
<h3>_successful</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">_successful</span></div>
</section>
</li>
<li>
<section class="detail" id="_tentativeDerivative">
<h3>_tentativeDerivative</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_tentativeDerivative</span></div>
</section>
</li>
<li>
<section class="detail" id="_tentativeState">
<h3>_tentativeState</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_tentativeState</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(ptolemy.kernel.CompositeEntity,java.lang.String)">
<h3>CTBaseIntegrator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">CTBaseIntegrator</span>&#8203;(<span class="parameters">ptolemy.kernel.CompositeEntity&nbsp;container,
java.lang.String&nbsp;name)</span>
                 throws <span class="exceptions">ptolemy.kernel.util.NameDuplicationException,
ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Construct an integrator, with a name and a container.
  The integrator is in the same workspace as the container.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>container</code> - The container.</dd>
<dd><code>name</code> - The name.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.NameDuplicationException</code> - If the name is used by another
     actor in the container.</dd>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If ports can not be created, or
  thrown by the super class.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="attributeChanged(ptolemy.kernel.util.Attribute)">
<h3>attributeChanged</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">attributeChanged</span>&#8203;(<span class="parameters">ptolemy.kernel.util.Attribute&nbsp;attribute)</span>
                      throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">If the specified attribute is <i>initialState</i>, then reset
  the state of the integrator to its value.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>attributeChanged</code>&nbsp;in class&nbsp;<code>ptolemy.kernel.util.NamedObj</code></dd>
<dt>Parameters:</dt>
<dd><code>attribute</code> - The attribute that has changed.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the new parameter value
  is not valid.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearHistory()">
<h3>clearHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">clearHistory</span>()</div>
<div class="block">Clear the history information.</div>
</section>
</li>
<li>
<section class="detail" id="emitCurrentStates()">
<h3>emitCurrentStates</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">emitCurrentStates</span>()
                       throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Emit the tentative output, which is the current state of the
  integrator.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CTDynamicActor.html#emitCurrentStates()">emitCurrentStates</a></code>&nbsp;in interface&nbsp;<code><a href="CTDynamicActor.html" title="interface in ptolemy.domains.ct.kernel">CTDynamicActor</a></code></dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the data transfer can not be
  completed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fire()">
<h3>fire</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">fire</span>()
          throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Delegate to the integratorFire() method of the current ODE solver.
  The existence of a director and an ODE solver is not checked because
  it is checked in the prefire() method.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>fire</code>&nbsp;in interface&nbsp;<code>ptolemy.actor.Executable</code></dd>
<dt>Overrides:</dt>
<dd><code>fire</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If thrown by integratorFire()
  of the solver.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAuxVariables()">
<h3>getAuxVariables</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="member-name">getAuxVariables</span>()</div>
<div class="block">Return the auxiliary variables in a double array.
  The auxiliary variables are created in the prefire() method and
  may be set during each firing of the actor. Return null if the
  auxiliary variables have never been created.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The auxiliary variables in a double array.</dd>
<dt>See Also:</dt>
<dd><a href="#setAuxVariables(int,double)"><code>setAuxVariables(int, double)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDerivative()">
<h3>getDerivative</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">getDerivative</span>()</div>
<div class="block">Return the derivative of the latest updated resolved state.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The derivative of the latest updated resolved state.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistory(int)">
<h3>getHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="member-name">getHistory</span>&#8203;(<span class="parameters">int&nbsp;index)</span></div>
<div class="block">Return the history information of the last index-th step.
  The returned history array has length 2, where the first
  element is the history state, and the second element is
  the corresponding derivative.
  The index starts from 0. If the current time is t(n),
  then getHistory(0) gives the
  state and derivative of time t(n-1), and getHistory(1)
  corresponds to time t(n-2).
  The history information is equidistant in time, and the
  distance is the current step size.
  If the step sizes are changed during the execution,
  the history information will be self-adjusted.
  If the index is less than 0 or grater than
  the history capacity, a runtime IndexOutOfBoundsException
  will be thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>index</code> - The index.</dd>
<dt>Returns:</dt>
<dd>The history array at the index point.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistoryCapacity()">
<h3>getHistoryCapacity</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">getHistoryCapacity</span>()</div>
<div class="block">Return the history capacity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The maximum capacity of the history information.</dd>
<dt>See Also:</dt>
<dd><a href="#setHistoryCapacity(int)"><code>setHistoryCapacity(int)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getState()">
<h3>getState</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">getState</span>()</div>
<div class="block">Return the state of the integrator. The returned state is the
  latest confirmed state. If the history capacity is bigger than 0,
  the same state can be retrieved from getHistory(0)[0]. However,
  this method is more efficient.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A double number as the state of the integrator.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTentativeDerivative()">
<h3>getTentativeDerivative</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">getTentativeDerivative</span>()</div>
<div class="block">Return the tentative derivative.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the tentative derivative.</dd>
<dt>See Also:</dt>
<dd><a href="#setTentativeDerivative(double)"><code>setTentativeDerivative(double)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTentativeState()">
<h3>getTentativeState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">getTentativeState</span>()</div>
<div class="block">Return the tentative state.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the tentative state.</dd>
<dt>See Also:</dt>
<dd><a href="#setTentativeState(double)"><code>setTentativeState(double)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getValidHistoryCount()">
<h3>getValidHistoryCount</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">getValidHistoryCount</span>()</div>
<div class="block">Return the number of valid history entries. This number is
  always less than or equal to the history capacity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of valid history entries.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="goToMarkedState()">
<h3>goToMarkedState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">goToMarkedState</span>()</div>
<div class="block">Go to the marked state. After calling the markState() method,
  calling this method will bring the integrator back to the
  marked state. This method is used for rollbacking the execution
  to a previous time point. Note that derivative is not stored.
  Therefore, when states are restored, they need to be propagated
  through state transition actors such that the derivatives are
  restored (reconstructed) too.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CTStatefulActor.html#goToMarkedState()">goToMarkedState</a></code>&nbsp;in interface&nbsp;<code><a href="CTStatefulActor.html" title="interface in ptolemy.domains.ct.kernel">CTStatefulActor</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialize()">
<h3>initialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">initialize</span>()
                throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Initialize the integrator. Check for the existence of director and ODE
  solver. Update initial state parameter. Set the initial state to
  the tentative state and the state. Set tentative derivative to 0.0.
  Clear the history.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>initialize</code>&nbsp;in interface&nbsp;<code>ptolemy.actor.Initializable</code></dd>
<dt>Overrides:</dt>
<dd><code>initialize</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If there's no director,
  or, the director is not a CT director, or the director has
  no ODE solver, or thrown in the super class, or the initialState
  parameter does not contain a valid token.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isOutputAccurate()">
<h3>isOutputAccurate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">isOutputAccurate</span>()</div>
<div class="block">Always return true because an integrator's output is always accurate
  no matter what step size is chosen.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CTStepSizeControlActor.html#isOutputAccurate()">isOutputAccurate</a></code>&nbsp;in interface&nbsp;<code><a href="CTStepSizeControlActor.html" title="interface in ptolemy.domains.ct.kernel">CTStepSizeControlActor</a></code></dd>
<dt>Returns:</dt>
<dd>True always.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isStateAccurate()">
<h3>isStateAccurate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">isStateAccurate</span>()</div>
<div class="block">Return true if the state is resolved successfully.
  If the input is not available, or the input is a result of
  divide by zero, a NumericalNonconvergeException is thrown.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CTStepSizeControlActor.html#isStateAccurate()">isStateAccurate</a></code>&nbsp;in interface&nbsp;<code><a href="CTStepSizeControlActor.html" title="interface in ptolemy.domains.ct.kernel">CTStepSizeControlActor</a></code></dd>
<dt>Returns:</dt>
<dd>True if the state is resolved successfully.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="markState()">
<h3>markState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">markState</span>()</div>
<div class="block">Mark and remember the current state. This remembered state can be
  retrieved by the goToMarkedState() method. The marked state
  may be used for rolling back the execution to a previous time point.
  Note that the derivative is not saved.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CTStatefulActor.html#markState()">markState</a></code>&nbsp;in interface&nbsp;<code><a href="CTStatefulActor.html" title="interface in ptolemy.domains.ct.kernel">CTStatefulActor</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postfire()">
<h3>postfire</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">postfire</span>()
                 throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Update the state and its derivative, and push them into history if
  the history capacity is bigger than 0.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>postfire</code>&nbsp;in interface&nbsp;<code>ptolemy.actor.Executable</code></dd>
<dt>Overrides:</dt>
<dd><code>postfire</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Returns:</dt>
<dd>True always.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - Not thrown in this base class.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="predictedStepSize()">
<h3>predictedStepSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">predictedStepSize</span>()</div>
<div class="block">Return the predicted next step size. This method delegates to
  the integratorPredictedStepSize() method of the current ODESolver.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CTStepSizeControlActor.html#predictedStepSize()">predictedStepSize</a></code>&nbsp;in interface&nbsp;<code><a href="CTStepSizeControlActor.html" title="interface in ptolemy.domains.ct.kernel">CTStepSizeControlActor</a></code></dd>
<dt>Returns:</dt>
<dd>The predicteded next step size.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prefire()">
<h3>prefire</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">prefire</span>()
                throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Setup the integrator to operate with the current ODE solver.
  This method checks whether there are enough auxiliary variables
  in the integrator for the current ODE solver. If not, create
  more auxiliary variables.
  <p>
  This method also adjusts the history information w.r.t. the
  current ODE solver and the current step size.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>prefire</code>&nbsp;in interface&nbsp;<code>ptolemy.actor.Executable</code></dd>
<dt>Overrides:</dt>
<dd><code>prefire</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Returns:</dt>
<dd>True always.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If there's no director or
  the director has no ODE solver.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="preinitialize()">
<h3>preinitialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">preinitialize</span>()
                   throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Override the base class to declare that the <i>output</i>
  does not depend on the <i>input</i> in a firing.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>preinitialize</code>&nbsp;in interface&nbsp;<code>ptolemy.actor.Initializable</code></dd>
<dt>Overrides:</dt>
<dd><code>preinitialize</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the superclass throws it.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="refinedStepSize()">
<h3>refinedStepSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">refinedStepSize</span>()</div>
<div class="block">Return the estimation of the refined next step size.
  If this integrator considers the current step to be accurate,
  then return the current step size, otherwise return half of the
  current step size.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CTStepSizeControlActor.html#refinedStepSize()">refinedStepSize</a></code>&nbsp;in interface&nbsp;<code><a href="CTStepSizeControlActor.html" title="interface in ptolemy.domains.ct.kernel">CTStepSizeControlActor</a></code></dd>
<dt>Returns:</dt>
<dd>The refined step size.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAuxVariables(int,double)">
<h3>setAuxVariables</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setAuxVariables</span>&#8203;(<span class="parameters">int&nbsp;index,
double&nbsp;value)</span>
                     throws <span class="exceptions">ptolemy.kernel.util.InvalidStateException</span></div>
<div class="block">Set the value of an auxiliary variable. The index indicates which
  auxiliary variable in the auxVariables array. If the index is out of
  the bound of the auxiliary variable array, an InvalidStateException
  is thrown to indicate an inconsistency in the ODE solver.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>index</code> - The index in the auxVariables array.</dd>
<dd><code>value</code> - The value to be set.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.InvalidStateException</code> - If the index is out of the range
  of the auxiliary variable array.</dd>
<dt>See Also:</dt>
<dd><a href="#getAuxVariables()"><code>getAuxVariables()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setHistoryCapacity(int)">
<h3>setHistoryCapacity</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setHistoryCapacity</span>&#8203;(<span class="parameters">int&nbsp;cap)</span></div>
<div class="block">Set history capacity. This will typically be set by the ODE solvers
  that uses the history. If the argument is less than 0,
  the capacity is set to 0.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cap</code> - The capacity.</dd>
<dt>See Also:</dt>
<dd><a href="#getHistoryCapacity()"><code>getHistoryCapacity()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTentativeDerivative(double)">
<h3>setTentativeDerivative</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setTentativeDerivative</span>&#8203;(<span class="parameters">double&nbsp;value)</span></div>
<div class="block">Set the tentative derivative, dx/dt. Tentative derivative
  is the derivative of the state that the ODE solver resolved
  in one step. This may not be the final derivative due to
  error control or event detection.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>value</code> - The value to be set.</dd>
<dt>See Also:</dt>
<dd><a href="#getTentativeDerivative()"><code>getTentativeDerivative()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTentativeState(double)">
<h3>setTentativeState</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">setTentativeState</span>&#8203;(<span class="parameters">double&nbsp;value)</span></div>
<div class="block">Set the tentative state. Tentative state is the state that
  the ODE solver resolved in one step. It may not
  be the final state due to error control or event detection.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>value</code> - The value to be set.</dd>
<dt>See Also:</dt>
<dd><a href="#getTentativeState()"><code>getTentativeState()</code></a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
