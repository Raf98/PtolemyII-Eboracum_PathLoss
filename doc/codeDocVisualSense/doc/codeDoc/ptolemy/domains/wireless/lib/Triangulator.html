<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="pt">
<head>
<!-- Generated by javadoc (15) on Mon May 17 06:15:16 BRT 2021 -->
<title>Triangulator</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-05-17">
<meta name="description" content="declaration: package: ptolemy.domains.wireless.lib, class: Triangulator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">ptolemy.domains.wireless.lib</a></div>
<h1 title="Class Triangulator" class="title">Class Triangulator</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">ptolemy.kernel.util.NamedObj
<div class="inheritance">ptolemy.kernel.InstantiableNamedObj
<div class="inheritance">ptolemy.kernel.Entity
<div class="inheritance">ptolemy.kernel.ComponentEntity
<div class="inheritance">ptolemy.actor.AtomicActor
<div class="inheritance">ptolemy.actor.TypedAtomicActor
<div class="inheritance">ptolemy.domains.wireless.lib.Triangulator</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Serializable</code>, <code>java.lang.Cloneable</code>, <code>ptolemy.actor.Actor</code>, <code>ptolemy.actor.Executable</code>, <code>ptolemy.actor.FiringsRecordable</code>, <code>ptolemy.actor.Initializable</code>, <code>ptolemy.actor.TypedActor</code>, <code>ptolemy.kernel.util.Changeable</code>, <code>ptolemy.kernel.util.Debuggable</code>, <code>ptolemy.kernel.util.DebugListener</code>, <code>ptolemy.kernel.util.Derivable</code>, <code>ptolemy.kernel.util.Instantiable</code>, <code>ptolemy.kernel.util.ModelErrorHandler</code>, <code>ptolemy.kernel.util.MoMLExportable</code>, <code>ptolemy.kernel.util.Moveable</code>, <code>ptolemy.kernel.util.Nameable</code></dd>
</dl>
<hr>
<pre>public class <span class="type-name-label">Triangulator</span>
extends ptolemy.actor.TypedAtomicActor</pre>
<div class="block">Given inputs that represent the location of a sensor and the time at
 which those sensors detect an event, this actor outputs the location
 of the source of the event.  It uses the specified
 <i>signalPropagationSpeed</i> and triangulates.
 <p>
 The input is a record with two fields named "location" and "time".
 The location field is an array of doubles, and the time is a double.
 In the current implementation, the actor assumes a two-dimensional space,
 so the location field is assumed to be an array with two doubles,
 which represent the horizontal (east-west) and vertical (north-south)
 location of the sensor.  The time field is assumed to be
 a double representing the time at which the event was detected by
 the sensor.
 <p>
 The triangulation algorithm requires three distinct sensor inputs
 for the same event in order to be able to calculate the location
 of the origin of the event.  Suppose that the event occurred at
 time <i>t</i> and location <i>x</i>.  Suppose that three sensors
 at locations <i>y1</i>, <i>y2</i>, and <i>y3</i> have each detected
 events at times <i>t1</i>, <i>t2</i>, and <i>t3</i>, respectively.
 Then this actor looks for a solution for <i>x</i> and <i>t</i>
 in the following equations:
 <quote>
 distance(<i>x</i>, <i>y1</i>)/<i>v</i> = <i>t1</i> - <i>t</i>,
 <br>
 distance(<i>x</i>, <i>y2</i>)/<i>v</i> = <i>t2</i> - <i>t</i>,
 <br>
 distance(<i>x</i>, <i>y3</i>)/<i>v</i> = <i>t3</i> - <i>t</i>,
 <br>
 </quote>
 where <i>v</i> is the value of <i>propagationSpeed</i>.
 If such a solution is found, then the output <i>x</i> is produced.
 <p>
 Since three distinct observations are required, this actor will
 produce no output until it has received three distinct observations.
 The observations are distinct if the sensor locations are distinct.
 If the three observations yield no solution, then this actor
 will produce no output.  However, it is possible for the three
 observations to come from distinct events, in which case the output
 may be erroneous.  To guard against this, this actor provides a
 <i>timeWindow</i> parameter.  The times of the three observations
 must be within the value of <i>timeWindow</i>, or no output will
 be produced. The output is an array of doubles, which in this
 implementation represent the X and Y locations of the event.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>Ptolemy II 4.0</dd>
<dt>Version:</dt>
<dd>$Id: Triangulator.java 57046 2010-01-27 23:35:53Z cxh $</dd>
<dt>Author:</dt>
<dd>Xiaojun Liu, Edward A. Lee</dd>
<dt>See Also:</dt>
<dd><a href="../../../../serialized-form.html#ptolemy.domains.wireless.lib.Triangulator">Serialized Form</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested.classes.inherited.from.class.ptolemy.kernel.Entity">Nested classes/interfaces inherited from class&nbsp;ptolemy.kernel.Entity</h2>
<code>ptolemy.kernel.Entity.ContainedObjectsIterator</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Fields</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Field</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>private static double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_EPSILON">_EPSILON</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private double[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_locationsX">_locationsX</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private double[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_locationsY">_locationsY</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private double[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_times">_times</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>ptolemy.actor.TypedIOPort</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#input">input</a></span></code></th>
<td class="col-last">
<div class="block">The input port for an event detection, which is a record
  containing the location of a sensor that has detected the
  event and the time at which the sensor detected the event.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>ptolemy.actor.TypedIOPort</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#output">output</a></span></code></th>
<td class="col-last">
<div class="block">The output producing the calculated event location.</div>
</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>ptolemy.data.expr.Parameter</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#signalPropagationSpeed">signalPropagationSpeed</a></span></code></th>
<td class="col-last">
<div class="block">Speed of propagation of the signal to be used for triangulation.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>ptolemy.data.expr.Parameter</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#timeWindow">timeWindow</a></span></code></th>
<td class="col-last">
<div class="block">Time window within which observations are assumed to come from
  the same sound event.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.actor.AtomicActor">Fields inherited from class&nbsp;ptolemy.actor.AtomicActor</h3>
<code>_actorFiringListeners, _initializables, _notifyingActorFiring, _stopRequested</code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.kernel.util.NamedObj">Fields inherited from class&nbsp;ptolemy.kernel.util.NamedObj</h3>
<code>_changeListeners, _changeLock, _changeRequests, _debugging, _debugListeners, _elementName, _isPersistent, _verbose, _workspace, ATTRIBUTES, CLASSNAME, COMPLETE, CONTENTS, DEEP, FULLNAME, LINKS</code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.actor.Executable">Fields inherited from interface&nbsp;ptolemy.actor.Executable</h3>
<code>COMPLETED, NOT_READY, STOP_ITERATING</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(ptolemy.kernel.CompositeEntity,java.lang.String)">Triangulator</a></span>&#8203;(ptolemy.kernel.CompositeEntity&nbsp;container,
java.lang.String&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Construct an actor with the given container and name.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="table-tab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>private double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_checkResult(double%5B%5D,double,double,double,double,double,double,double,double,double,double)">_checkResult</a></span>&#8203;(double[]&nbsp;result,
double&nbsp;x1,
double&nbsp;y1,
double&nbsp;t1,
double&nbsp;x2,
double&nbsp;y2,
double&nbsp;t2,
double&nbsp;x3,
double&nbsp;y3,
double&nbsp;t3,
double&nbsp;v)</code></th>
<td class="col-last">
<div class="block">Check whether the calculated location and time of a sound event is
  consistent with the observations.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>private static double</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_distance(double,double,double,double)">_distance</a></span>&#8203;(double&nbsp;x1,
double&nbsp;y1,
double&nbsp;x2,
double&nbsp;y2)</code></th>
<td class="col-last">
<div class="block">Return the Cartesian distance between (x1, y1) and (x2, y2).</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>private double[]</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_locate(double,double,double,double,double,double,double,double,double,double)">_locate</a></span>&#8203;(double&nbsp;x1,
double&nbsp;y1,
double&nbsp;t1,
double&nbsp;x2,
double&nbsp;y2,
double&nbsp;t2,
double&nbsp;x3,
double&nbsp;y3,
double&nbsp;t3,
double&nbsp;v)</code></th>
<td class="col-last">
<div class="block">Calculate the location and time of a sound event from the given
  observations of the event.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>java.lang.Object</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#clone(ptolemy.kernel.util.Workspace)">clone</a></span>&#8203;(ptolemy.kernel.util.Workspace&nbsp;workspace)</code></th>
<td class="col-last">
<div class="block">Clone this actor into the specified workspace.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#fire()">fire</a></span>()</code></th>
<td class="col-last">
<div class="block">Read all available input tokens and attempt to use them to triangulate
  the signal source.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#initialize()">initialize</a></span>()</code></th>
<td class="col-last">
<div class="block">Override the base class to initialize the signal count.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.TypedAtomicActor">Methods inherited from class&nbsp;ptolemy.actor.TypedAtomicActor</h3>
<code>_addPort, _fireAt, _fireAt, attributeTypeChanged, clone, newPort, typeConstraintList, typeConstraints</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.AtomicActor">Methods inherited from class&nbsp;ptolemy.actor.AtomicActor</h3>
<code>_actorFiring, _actorFiring, addActorFiringListener, addInitializable, connectionsChanged, createReceivers, declareDelayDependency, getCausalityInterface, getDirector, getExecutiveDirector, getManager, inputPortList, isFireFunctional, isStrict, iterate, newReceiver, outputPortList, postfire, prefire, preinitialize, pruneDependencies, recordFiring, removeActorFiringListener, removeDependency, removeInitializable, setContainer, stop, stopFire, terminate, wrapup</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.ComponentEntity">Methods inherited from class&nbsp;ptolemy.kernel.ComponentEntity</h3>
<code>_adjustDeferrals, _checkContainer, _getContainedObject, _propagateExistence, getContainer, instantiate, isAtomic, isOpaque, moveDown, moveToFirst, moveToIndex, moveToLast, moveUp, propagateExistence, setName</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.Entity">Methods inherited from class&nbsp;ptolemy.kernel.Entity</h3>
<code>_description, _exportMoMLContents, _removePort, _validateSettables, connectedPortList, connectedPorts, containedObjectsIterator, getAttribute, getPort, getPorts, linkedRelationList, linkedRelations, portList, removeAllPorts, setClassDefinition, uniqueName</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.InstantiableNamedObj">Methods inherited from class&nbsp;ptolemy.kernel.InstantiableNamedObj</h3>
<code>_setParent, exportMoML, getChildren, getElementName, getParent, getPrototypeList, isClassDefinition, isWithinClassDefinition</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.NamedObj">Methods inherited from class&nbsp;ptolemy.kernel.util.NamedObj</h3>
<code>_addAttribute, _adjustOverride, _attachText, _cloneFixAttributeFields, _debug, _debug, _debug, _debug, _debug, _getIndentPrefix, _isMoMLSuppressed, _markContentsDerived, _propagateValue, _recordDecoratedAttributes, _removeAttribute, _splitName, _stripNumericSuffix, addChangeListener, addDebugListener, attributeChanged, attributeList, attributeList, deepContains, depthInHierarchy, description, description, event, executeChangeRequests, exportMoML, exportMoML, exportMoML, exportMoML, exportMoMLPlain, getAttribute, getAttributes, getChangeListeners, getClassName, getDecoratorAttribute, getDecoratorAttributes, getDerivedLevel, getDerivedList, getDisplayName, getFullName, getModelErrorHandler, getName, getName, getSource, handleModelError, isDeferringChangeRequests, isOverridden, isPersistent, lazyContainedObjectsIterator, message, propagateValue, propagateValues, removeChangeListener, removeDebugListener, requestChange, setClassName, setDeferringChangeRequests, setDerivedLevel, setDisplayName, setModelErrorHandler, setPersistent, setSource, sortContainedObjects, toplevel, toString, validateSettables, workspace</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.Actor">Methods inherited from interface&nbsp;ptolemy.actor.Actor</h3>
<code>createReceivers, getCausalityInterface, getDirector, getExecutiveDirector, getManager, inputPortList, newReceiver, outputPortList</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.Derivable">Methods inherited from interface&nbsp;ptolemy.kernel.util.Derivable</h3>
<code>getDerivedLevel, getDerivedList, propagateValue</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.Executable">Methods inherited from interface&nbsp;ptolemy.actor.Executable</h3>
<code>isFireFunctional, isStrict, iterate, postfire, prefire, stop, stopFire, terminate</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.Initializable">Methods inherited from interface&nbsp;ptolemy.actor.Initializable</h3>
<code>addInitializable, preinitialize, removeInitializable, wrapup</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.Nameable">Methods inherited from interface&nbsp;ptolemy.kernel.util.Nameable</h3>
<code>description, getContainer, getDisplayName, getFullName, getName, getName, setName</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="input">
<h3>input</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.actor.TypedIOPort</span>&nbsp;<span class="member-name">input</span></div>
<div class="block">The input port for an event detection, which is a record
  containing the location of a sensor that has detected the
  event and the time at which the sensor detected the event.
  This has type {location = {double}, time = double} The location
  is assumed to have two entries.</div>
</section>
</li>
<li>
<section class="detail" id="output">
<h3>output</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.actor.TypedIOPort</span>&nbsp;<span class="member-name">output</span></div>
<div class="block">The output producing the calculated event location.
  This has type {double}, a double array with two entries.</div>
</section>
</li>
<li>
<section class="detail" id="signalPropagationSpeed">
<h3>signalPropagationSpeed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.data.expr.Parameter</span>&nbsp;<span class="member-name">signalPropagationSpeed</span></div>
<div class="block">Speed of propagation of the signal to be used for triangulation.
  This is a double that defaults to 344.0 (the speed of sound in
  air at room temperature, in meters per second).</div>
</section>
</li>
<li>
<section class="detail" id="timeWindow">
<h3>timeWindow</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.data.expr.Parameter</span>&nbsp;<span class="member-name">timeWindow</span></div>
<div class="block">Time window within which observations are assumed to come from
  the same sound event.
  This is a double that defaults to 0.5 (in seconds).</div>
</section>
</li>
<li>
<section class="detail" id="_locationsX">
<h3>_locationsX</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="member-name">_locationsX</span></div>
</section>
</li>
<li>
<section class="detail" id="_locationsY">
<h3>_locationsY</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="member-name">_locationsY</span></div>
</section>
</li>
<li>
<section class="detail" id="_times">
<h3>_times</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="member-name">_times</span></div>
</section>
</li>
<li>
<section class="detail" id="_EPSILON">
<h3>_EPSILON</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_EPSILON</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(ptolemy.kernel.CompositeEntity,java.lang.String)">
<h3>Triangulator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">Triangulator</span>&#8203;(<span class="parameters">ptolemy.kernel.CompositeEntity&nbsp;container,
java.lang.String&nbsp;name)</span>
             throws <span class="exceptions">ptolemy.kernel.util.NameDuplicationException,
ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Construct an actor with the given container and name.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>container</code> - The container.</dd>
<dd><code>name</code> - The name of this actor.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the actor cannot be contained
   by the proposed container.</dd>
<dd><code>ptolemy.kernel.util.NameDuplicationException</code> - If the container already has an
   actor with this name.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="clone(ptolemy.kernel.util.Workspace)">
<h3>clone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.lang.Object</span>&nbsp;<span class="member-name">clone</span>&#8203;(<span class="parameters">ptolemy.kernel.util.Workspace&nbsp;workspace)</span>
                       throws <span class="exceptions">java.lang.CloneNotSupportedException</span></div>
<div class="block">Clone this actor into the specified workspace. This overrides the
  base class to handle private variables.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>clone</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Parameters:</dt>
<dd><code>workspace</code> - The workspace for the cloned object.</dd>
<dt>Returns:</dt>
<dd>A new ComponentEntity.</dd>
<dt>Throws:</dt>
<dd><code>java.lang.CloneNotSupportedException</code> - If cloned ports cannot have
   as their container the cloned entity (this should not occur), or
   if one of the attributes cannot be cloned.</dd>
<dt>See Also:</dt>
<dd><code>NamedObj.exportMoML(Writer, int, String)</code>, 
<code>NamedObj.setDeferringChangeRequests(boolean)</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fire()">
<h3>fire</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">fire</span>()
          throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Read all available input tokens and attempt to use them to triangulate
  the signal source. If the attempt is successful, then output
  the location of the signal source. Otherwise, output nothing.
  This method keeps a buffer of the three most recently seen
  inputs from distinct sensors (as determined by their locations).
  If a new input token has a location field that matches
  a location already in the buffer, then the new input simply
  replaces that previous observation.  Otherwise, it replaces
  the oldest observation in the buffer.  If there are three
  observations in the buffer with time stamps within the
  <i>timeWindow</i> parameter value, then triangulation is
  performed, and if the the three observations are consistent,
  then an output is produced.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>fire</code>&nbsp;in interface&nbsp;<code>ptolemy.actor.Executable</code></dd>
<dt>Overrides:</dt>
<dd><code>fire</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If there is no director,
   or if the parameters cannot be evaluated.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialize()">
<h3>initialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">initialize</span>()
                throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Override the base class to initialize the signal count.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>initialize</code>&nbsp;in interface&nbsp;<code>ptolemy.actor.Initializable</code></dd>
<dt>Overrides:</dt>
<dd><code>initialize</code>&nbsp;in class&nbsp;<code>ptolemy.actor.AtomicActor</code></dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the base class throws it.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_checkResult(double[],double,double,double,double,double,double,double,double,double,double)">
<h3>_checkResult</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_checkResult</span>&#8203;(<span class="parameters">double[]&nbsp;result,
double&nbsp;x1,
double&nbsp;y1,
double&nbsp;t1,
double&nbsp;x2,
double&nbsp;y2,
double&nbsp;t2,
double&nbsp;x3,
double&nbsp;y3,
double&nbsp;t3,
double&nbsp;v)</span></div>
<div class="block">Check whether the calculated location and time of a sound event is
  consistent with the observations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>result</code> - The calculated location and time of a sound event.</dd>
<dd><code>x1</code> - The x-coordinate of the first observation.</dd>
<dd><code>y1</code> - The y-coordinate of the first observation.</dd>
<dd><code>t1</code> - The time of the first observation.</dd>
<dd><code>x2</code> - The x-coordinate of the second observation.</dd>
<dd><code>y2</code> - The y-coordinate of the second observation.</dd>
<dd><code>t2</code> - The time of the second observation.</dd>
<dd><code>x3</code> - The x-coordinate of the third observation.</dd>
<dd><code>y3</code> - The y-coordinate of the third observation.</dd>
<dd><code>t3</code> - The time of the third observation.</dd>
<dd><code>v</code> - The speed of sound propagation.</dd>
<dt>Returns:</dt>
<dd>The sum of the differences between the calculated distances
 and the result argument.  Double.POSITIVE_INFINITY is returned if
 any one of the times (t1, t2, t3) is greater than result[2].</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_distance(double,double,double,double)">
<h3>_distance</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="member-name">_distance</span>&#8203;(<span class="parameters">double&nbsp;x1,
double&nbsp;y1,
double&nbsp;x2,
double&nbsp;y2)</span></div>
<div class="block">Return the Cartesian distance between (x1, y1) and (x2, y2).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x1</code> - The first x coordinate.</dd>
<dd><code>y1</code> - The first y coordinate.</dd>
<dd><code>x2</code> - The second x coordinate.</dd>
<dd><code>y2</code> - The second y coordinate.</dd>
<dt>Returns:</dt>
<dd>The distance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_locate(double,double,double,double,double,double,double,double,double,double)">
<h3>_locate</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="member-name">_locate</span>&#8203;(<span class="parameters">double&nbsp;x1,
double&nbsp;y1,
double&nbsp;t1,
double&nbsp;x2,
double&nbsp;y2,
double&nbsp;t2,
double&nbsp;x3,
double&nbsp;y3,
double&nbsp;t3,
double&nbsp;v)</span></div>
<div class="block">Calculate the location and time of a sound event from the given
  observations of the event. In the returned array, the first element
  is the x-coordinate of the event, the second is the y-coordinate,
  and the third is the time of the event. These are obtained by
  solving the following equations for x, y, and t:
  <pre>
  distance(x, y, x1, y1)/v = t1 - t
  distance(x, y, x2, y2)/v = t2 - t
  distance(x, y, x3, y3)/v = t3 - t
  </pre>
  If there is no valid solution to these equations, possible when the
  observations are of different sound events, the returned values
  are all negative infinity (Double.NEGATIVE_INFINITY). It is also
  possible that a valid solution to the equations exists even though
  the observations are of different sound events. This algorithm
  does not rule out such false positives.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x1</code> - The x-coordinate of the first observation.</dd>
<dd><code>y1</code> - The y-coordinate of the first observation.</dd>
<dd><code>t1</code> - The time of the first observation.</dd>
<dd><code>x2</code> - The x-coordinate of the second observation.</dd>
<dd><code>y2</code> - The y-coordinate of the second observation.</dd>
<dd><code>t2</code> - The time of the second observation.</dd>
<dd><code>x3</code> - The x-coordinate of the third observation.</dd>
<dd><code>y3</code> - The y-coordinate of the third observation.</dd>
<dd><code>t3</code> - The time of the third observation.</dd>
<dd><code>v</code> - The speed of sound propagation.</dd>
<dt>Returns:</dt>
<dd>The location and time of the sound event consistent with
  the observations.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
