<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="pt">
<head>
<!-- Generated by javadoc (15) on Mon Mar 29 02:51:25 BRT 2021 -->
<title>SDFScheduler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-03-29">
<meta name="description" content="declaration: package: ptolemy.domains.sdf.kernel, class: SDFScheduler">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">ptolemy.domains.sdf.kernel</a></div>
<h1 title="Class SDFScheduler" class="title">Class SDFScheduler</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">ptolemy.kernel.util.NamedObj
<div class="inheritance">ptolemy.kernel.util.Attribute
<div class="inheritance">ptolemy.actor.sched.Scheduler
<div class="inheritance"><a href="BaseSDFScheduler.html" title="class in ptolemy.domains.sdf.kernel">ptolemy.domains.sdf.kernel.BaseSDFScheduler</a>
<div class="inheritance">ptolemy.domains.sdf.kernel.SDFScheduler</div>
</div>
</div>
</div>
</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Serializable</code>, <code>java.lang.Cloneable</code>, <code>ptolemy.kernel.util.Changeable</code>, <code>ptolemy.kernel.util.Debuggable</code>, <code>ptolemy.kernel.util.DebugListener</code>, <code>ptolemy.kernel.util.Derivable</code>, <code>ptolemy.kernel.util.ModelErrorHandler</code>, <code>ptolemy.kernel.util.MoMLExportable</code>, <code>ptolemy.kernel.util.Moveable</code>, <code>ptolemy.kernel.util.Nameable</code>, <code>ptolemy.kernel.util.ValueListener</code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="CachedSDFScheduler.html" title="class in ptolemy.domains.sdf.kernel">CachedSDFScheduler</a></code></dd>
</dl>
<hr>
<pre>public class <span class="type-name-label">SDFScheduler</span>
extends <a href="BaseSDFScheduler.html" title="class in ptolemy.domains.sdf.kernel">BaseSDFScheduler</a>
implements ptolemy.kernel.util.ValueListener</pre>
<div class="block">A scheduler that implements basic scheduling of SDF graphs.  This
 class calculates the SDF schedule in two phases.  First, the balance
 equations for the rates between actors are solved to determine the
 <i>firing vector</i> (also known as the repetitions vector).  The
 firing vector is the least integer solution such that the number of
 tokens created on each channel of each relation is equal to the number
 of tokens consumed.  In some cases, no solution exists.  Such graphs
 are not executable under SDF.
 <p>
 Then the actors are ordered such that each actor only fires when the
 scheduler has determined that enough tokens will be present on its
 input ports to allow it to fire.  In cases where the dataflow graph is
 cyclic, a valid firing vector exists, but no actor can fire, since
 they all depend on the output of another actor.  This situation is
 known as <i>deadlock</i>.  Deadlock must be prevented in SDF by manually
 inserting delay actors, which represent initial tokens on each
 relation.  Such delay actors are responsible for creating tokens
 during initialization that will prevent deadlock.  These actors
 set the <i>tokenInitProduction</i> parameter of their output ports
 to represent the number of
 tokens they will create during initialization.  The SDFScheduler uses
 this parameter to break the dependency in a cyclic
 graph.
 <p>
 Note that this scheduler only ensures that the number of firings is
 minimal.  Most notably, it does not attempt to minimize the size of
 the buffers that are associated with each relation.  The resulting
 schedule is a linear schedule (as opposed to a looped schedule) and is
 not suitable for multiprocessing environments.
 <p>
 Any actors may be
 scheduled by this scheduler, which will, by default, assume
 homogeneous behavior for each actor.  (i.e. each output port produces
 one token for each firing, and each input port consumes one token on
 each firing, and no tokens are created during initialization.)  If
 this is not the case then parameters named <i>tokenConsumptionRate</i>,
 <i>tokenProductionRate</i>, and <i>tokenInitProduction</i> must be set.
 The SDFIOPort class provides easier access to these parameters.
 <p>
 Note that reconstructing the schedule is expensive, so the schedule is
 locally cached for as long as possible, and mutations under SDF should
 be avoided.
 <p>
 Note that this scheduler supports actors with 0-rate ports as long as
 the graph is not equivalent to a disconnected graph. This scheduler
 is somewhat conservative in this respect.
 <p>Disconnected graphs are supported if the SDF Director parameter
 <i>allowDisconnectedGraphs</i> is true.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>Ptolemy II 0.2</dd>
<dt>Version:</dt>
<dd>$Id: SDFScheduler.java 57046 2010-01-27 23:35:53Z cxh $</dd>
<dt>Author:</dt>
<dd>Stephen Neuendorffer and Brian Vogel</dd>
<dt>See Also:</dt>
<dd><code>Scheduler</code>, 
<a href="../lib/SampleDelay.html" title="class in ptolemy.domains.sdf.lib"><code>SampleDelay</code></a>, 
<a href="../../../../serialized-form.html#ptolemy.domains.sdf.kernel.SDFScheduler">Serialized Form</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested.classes.inherited.from.class.ptolemy.kernel.util.NamedObj">Nested classes/interfaces inherited from class&nbsp;ptolemy.kernel.util.NamedObj</h2>
<code>ptolemy.kernel.util.NamedObj.ContainedObjectsIterator</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Fields</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Field</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>protected java.util.Map</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_externalRates">_externalRates</a></span></code></th>
<td class="col-last">
<div class="block">Mmaps from external
 ports to the number of tokens that that port
 will produce or consume in each firing.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>protected java.util.Map</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_firingVector">_firingVector</a></span></code></th>
<td class="col-last">
<div class="block">A map from actors to an integer representing the
  number of times the actor will fire.</div>
</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private ptolemy.math.Fraction</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_minusOne">_minusOne</a></span></code></th>
<td class="col-last">
<div class="block">A fraction equal to -1.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>protected java.util.List</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_rateVariables">_rateVariables</a></span></code></th>
<td class="col-last">
<div class="block">The list of rate variables that this scheduler is listening to
 for rate changes.</div>
</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>ptolemy.data.expr.Parameter</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#constrainBufferSizes">constrainBufferSizes</a></span></code></th>
<td class="col-last">
<div class="block">If true, then buffer sizes are fixed according to the schedule,
  and attempts to write to the buffer that cause the buffer to
  exceed the schedule size result in an exception.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.domains.sdf.kernel.BaseSDFScheduler">Fields inherited from class&nbsp;ptolemy.domains.sdf.kernel.<a href="BaseSDFScheduler.html" title="class in ptolemy.domains.sdf.kernel">BaseSDFScheduler</a></h3>
<code><a href="BaseSDFScheduler.html#VERBOSE">VERBOSE</a></code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.actor.sched.Scheduler">Fields inherited from class&nbsp;ptolemy.actor.sched.Scheduler</h3>
<code>_DEFAULT_SCHEDULER_NAME</code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.ptolemy.kernel.util.NamedObj">Fields inherited from class&nbsp;ptolemy.kernel.util.NamedObj</h3>
<code>_changeListeners, _changeLock, _changeRequests, _debugging, _debugListeners, _elementName, _isPersistent, _verbose, _workspace, ATTRIBUTES, CLASSNAME, COMPLETE, CONTENTS, DEEP, FULLNAME, LINKS</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E()">SDFScheduler</a></span>()</code></th>
<td class="col-last">
<div class="block">Construct a scheduler with no container(director)
  in the default workspace, the name of the scheduler is
  "Scheduler".</div>
</td>
</tr>
<tr class="row-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(ptolemy.actor.Director,java.lang.String)">SDFScheduler</a></span>&#8203;(ptolemy.actor.Director&nbsp;container,
java.lang.String&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Construct a scheduler in the given container with the given name.</div>
</td>
</tr>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(ptolemy.kernel.util.Workspace)">SDFScheduler</a></span>&#8203;(ptolemy.kernel.util.Workspace&nbsp;workspace)</code></th>
<td class="col-last">
<div class="block">Construct a scheduler in the given workspace with the name
  "Scheduler".</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_assertDynamicRateVariable(ptolemy.actor.CompositeActor,ptolemy.data.expr.Variable,java.util.List,ptolemy.actor.util.ConstVariableModelAnalysis)">_assertDynamicRateVariable</a></span>&#8203;(ptolemy.actor.CompositeActor&nbsp;model,
ptolemy.data.expr.Variable&nbsp;variable,
java.util.List&nbsp;rateVariables,
ptolemy.actor.util.ConstVariableModelAnalysis&nbsp;analysis)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_checkDirectInputOutputConnection(ptolemy.actor.CompositeActor,java.util.Map)">_checkDirectInputOutputConnection</a></span>&#8203;(ptolemy.actor.CompositeActor&nbsp;container,
java.util.Map&nbsp;externalRates)</code></th>
<td class="col-last">
<div class="block">Update the The external rates of those directly connected input
  and output ports to be 1.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>protected void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_checkDynamicRateVariables(ptolemy.actor.CompositeActor,java.util.List)">_checkDynamicRateVariables</a></span>&#8203;(ptolemy.actor.CompositeActor&nbsp;model,
java.util.List&nbsp;rateVariables)</code></th>
<td class="col-last">
<div class="block">Populate the given set with the dynamic rate variables in the model.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>protected int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_computeMaximumFirings(ptolemy.actor.Actor)">_computeMaximumFirings</a></span>&#8203;(ptolemy.actor.Actor&nbsp;currentActor)</code></th>
<td class="col-last">
<div class="block">Determine the number of times the given actor can fire, based on
  the number of tokens that are present on its inputs.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>protected int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_countUnfulfilledInputs(ptolemy.actor.Actor,java.util.List,boolean)">_countUnfulfilledInputs</a></span>&#8203;(ptolemy.actor.Actor&nbsp;actor,
java.util.List&nbsp;actorList,
boolean&nbsp;resetCapacity)</code></th>
<td class="col-last">
<div class="block">Count the number of input ports in the given actor that must be
  fulfilled before the actor can fire.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>protected int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_getFiringCount(ptolemy.kernel.Entity)">_getFiringCount</a></span>&#8203;(ptolemy.kernel.Entity&nbsp;entity)</code></th>
<td class="col-last">
<div class="block">Return the number of firings associated with the given entity.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>protected ptolemy.actor.sched.Schedule</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_getSchedule()">_getSchedule</a></span>()</code></th>
<td class="col-last">
<div class="block">Return the scheduling sequence.</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_init()">_init</a></span>()</code></th>
<td class="col-last">
<div class="block">Create the parameter constrainBufferSizes and set its default
  value and type constraints.</div>
</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_listenToRateVariable(ptolemy.data.expr.Variable,java.util.List)">_listenToRateVariable</a></span>&#8203;(ptolemy.data.expr.Variable&nbsp;variable,
java.util.List&nbsp;rateVariables)</code></th>
<td class="col-last">
<div class="block">Add this scheduler as a value listener to the given variable
 and add the variable to the given list.</div>
</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code>private ptolemy.kernel.ComponentEntity</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_pickZeroRatePortActor(java.util.List)">_pickZeroRatePortActor</a></span>&#8203;(java.util.List&nbsp;actorList)</code></th>
<td class="col-last">
<div class="block">Search the given list of actors for one that contains at least
  one port that has zero rate.</div>
</td>
</tr>
<tr class="alt-color" id="i10">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_propagatePort(ptolemy.actor.CompositeActor,ptolemy.actor.IOPort,java.util.Map,java.util.Map,java.util.LinkedList,java.util.LinkedList,java.util.Set,java.util.Set)">_propagatePort</a></span>&#8203;(ptolemy.actor.CompositeActor&nbsp;container,
ptolemy.actor.IOPort&nbsp;currentPort,
java.util.Map&nbsp;entityToFiringsPerIteration,
java.util.Map&nbsp;externalRates,
java.util.LinkedList&nbsp;remainingActors,
java.util.LinkedList&nbsp;pendingActors,
java.util.Set&nbsp;clusteredActors,
java.util.Set&nbsp;clusteredExternalPorts)</code></th>
<td class="col-last">
<div class="block">Propagate the number of fractional firings decided for this actor
  through the specified port.</div>
</td>
</tr>
<tr class="row-color" id="i11">
<td class="col-first"><code>private ptolemy.actor.sched.Schedule</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_scheduleConnectedActors(java.util.Map,java.util.List,ptolemy.actor.CompositeActor)">_scheduleConnectedActors</a></span>&#8203;(java.util.Map&nbsp;externalRates,
java.util.List&nbsp;actorList,
ptolemy.actor.CompositeActor&nbsp;container)</code></th>
<td class="col-last">
<div class="block">Create a schedule for a set of actors.</div>
</td>
</tr>
<tr class="alt-color" id="i12">
<td class="col-first"><code>protected void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_simulateExternalInputs(ptolemy.actor.IOPort,int,java.util.List,java.util.LinkedList)">_simulateExternalInputs</a></span>&#8203;(ptolemy.actor.IOPort&nbsp;port,
int&nbsp;count,
java.util.List&nbsp;actorList,
java.util.LinkedList&nbsp;readyToScheduleActorList)</code></th>
<td class="col-last">
<div class="block">Simulate the consumption of tokens from the given external input
  port.</div>
</td>
</tr>
<tr class="row-color" id="i13">
<td class="col-first"><code>protected boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_simulateInputConsumption(ptolemy.actor.Actor,int)">_simulateInputConsumption</a></span>&#8203;(ptolemy.actor.Actor&nbsp;currentActor,
int&nbsp;firingCount)</code></th>
<td class="col-last">
<div class="block">Simulate the consumption of tokens by the actor during execution of
  the given number of firings.</div>
</td>
</tr>
<tr class="alt-color" id="i14">
<td class="col-first"><code>private void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_simulateTokensCreated(ptolemy.actor.IOPort,int,java.util.List,java.util.LinkedList)">_simulateTokensCreated</a></span>&#8203;(ptolemy.actor.IOPort&nbsp;outputPort,
int&nbsp;createdTokens,
java.util.List&nbsp;actorList,
java.util.LinkedList&nbsp;readyToScheduleActorList)</code></th>
<td class="col-last">
<div class="block">Simulate the creation of tokens by the given output port when
  its actor fires.</div>
</td>
</tr>
<tr class="row-color" id="i15">
<td class="col-first"><code>protected java.util.Map</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_solveBalanceEquations(ptolemy.actor.CompositeActor,java.util.List,java.util.Map)">_solveBalanceEquations</a></span>&#8203;(ptolemy.actor.CompositeActor&nbsp;container,
java.util.List&nbsp;actorList,
java.util.Map&nbsp;externalRates)</code></th>
<td class="col-last">
<div class="block">Solve the balance equations for the list of connected Actors.</div>
</td>
</tr>
<tr class="alt-color" id="i16">
<td class="col-first"><code>protected void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#_vectorizeFirings(int,java.util.Map,java.util.Map)">_vectorizeFirings</a></span>&#8203;(int&nbsp;vectorizationFactor,
java.util.Map&nbsp;entityToFiringsPerIteration,
java.util.Map&nbsp;externalRates)</code></th>
<td class="col-last">
<div class="block">Multiply all of the repetition rates
  by the given vectorizationFactor.</div>
</td>
</tr>
<tr class="row-color" id="i17">
<td class="col-first"><code>java.lang.Object</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#clone(ptolemy.kernel.util.Workspace)">clone</a></span>&#8203;(ptolemy.kernel.util.Workspace&nbsp;workspace)</code></th>
<td class="col-last">
<div class="block">Clone the scheduler into the specified workspace.</div>
</td>
</tr>
<tr class="alt-color" id="i18">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#declareRateDependency()">declareRateDependency</a></span>()</code></th>
<td class="col-last">
<div class="block">Declare the rate dependency on any external ports of the model.</div>
</td>
</tr>
<tr class="row-color" id="i19">
<td class="col-first"><code>java.util.Map</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getExternalRates()">getExternalRates</a></span>()</code></th>
<td class="col-last">
<div class="block">Get the external port rates.</div>
</td>
</tr>
<tr class="alt-color" id="i20">
<td class="col-first"><code>int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getFiringCount(ptolemy.kernel.Entity)">getFiringCount</a></span>&#8203;(ptolemy.kernel.Entity&nbsp;entity)</code></th>
<td class="col-last">
<div class="block">Create the schedule.</div>
</td>
</tr>
<tr class="row-color" id="i21">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#valueChanged(ptolemy.kernel.util.Settable)">valueChanged</a></span>&#8203;(ptolemy.kernel.util.Settable&nbsp;settable)</code></th>
<td class="col-last">
<div class="block">React to the fact that the specified Settable has changed by
  invalidating the schedule.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.domains.sdf.kernel.BaseSDFScheduler">Methods inherited from class&nbsp;ptolemy.domains.sdf.kernel.<a href="BaseSDFScheduler.html" title="class in ptolemy.domains.sdf.kernel">BaseSDFScheduler</a></h3>
<code><a href="BaseSDFScheduler.html#_declareDependency(ptolemy.actor.util.ConstVariableModelAnalysis,ptolemy.kernel.Port,java.lang.String,java.util.List)">_declareDependency</a>, <a href="BaseSDFScheduler.html#_saveBufferSizes(java.util.Map)">_saveBufferSizes</a>, <a href="BaseSDFScheduler.html#_saveContainerRates(java.util.Map)">_saveContainerRates</a>, <a href="BaseSDFScheduler.html#_saveFiringCounts(java.util.Map)">_saveFiringCounts</a></code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.actor.sched.Scheduler">Methods inherited from class&nbsp;ptolemy.actor.sched.Scheduler</h3>
<code>getSchedule, isValid, setContainer, setValid</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.Attribute">Methods inherited from class&nbsp;ptolemy.kernel.util.Attribute</h3>
<code>_checkContainer, _getContainedObject, _propagateExistence, getContainer, moveDown, moveToFirst, moveToIndex, moveToLast, moveUp, setName, updateContent</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.ptolemy.kernel.util.NamedObj">Methods inherited from class&nbsp;ptolemy.kernel.util.NamedObj</h3>
<code>_addAttribute, _adjustOverride, _attachText, _cloneFixAttributeFields, _debug, _debug, _debug, _debug, _debug, _description, _exportMoMLContents, _getIndentPrefix, _isMoMLSuppressed, _markContentsDerived, _propagateValue, _recordDecoratedAttributes, _removeAttribute, _splitName, _stripNumericSuffix, _validateSettables, addChangeListener, addDebugListener, attributeChanged, attributeList, attributeList, attributeTypeChanged, clone, containedObjectsIterator, deepContains, depthInHierarchy, description, description, event, executeChangeRequests, exportMoML, exportMoML, exportMoML, exportMoML, exportMoML, exportMoMLPlain, getAttribute, getAttribute, getAttributes, getChangeListeners, getClassName, getDecoratorAttribute, getDecoratorAttributes, getDerivedLevel, getDerivedList, getDisplayName, getElementName, getFullName, getModelErrorHandler, getName, getName, getPrototypeList, getSource, handleModelError, isDeferringChangeRequests, isOverridden, isPersistent, lazyContainedObjectsIterator, message, propagateExistence, propagateValue, propagateValues, removeChangeListener, removeDebugListener, requestChange, setClassName, setDeferringChangeRequests, setDerivedLevel, setDisplayName, setModelErrorHandler, setPersistent, setSource, sortContainedObjects, toplevel, toString, uniqueName, validateSettables, workspace</code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="constrainBufferSizes">
<h3>constrainBufferSizes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">ptolemy.data.expr.Parameter</span>&nbsp;<span class="member-name">constrainBufferSizes</span></div>
<div class="block">If true, then buffer sizes are fixed according to the schedule,
  and attempts to write to the buffer that cause the buffer to
  exceed the schedule size result in an exception. This method
  works by setting the capacity of the receivers if the value is
  true. This parameter is a boolean that defaults to true.</div>
</section>
</li>
<li>
<section class="detail" id="_firingVector">
<h3>_firingVector</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">java.util.Map</span>&nbsp;<span class="member-name">_firingVector</span></div>
<div class="block">A map from actors to an integer representing the
  number of times the actor will fire.</div>
</section>
</li>
<li>
<section class="detail" id="_minusOne">
<h3>_minusOne</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">ptolemy.math.Fraction</span>&nbsp;<span class="member-name">_minusOne</span></div>
<div class="block">A fraction equal to -1.  Used in several places to indicate an
 actor for which we have not determined the number of times it will
 fire.</div>
</section>
</li>
<li>
<section class="detail" id="_externalRates">
<h3>_externalRates</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">java.util.Map</span>&nbsp;<span class="member-name">_externalRates</span></div>
<div class="block">Mmaps from external
 ports to the number of tokens that that port
 will produce or consume in each firing.
 It gets populated with the fractional production ratios
 and is used in the end to set final rates on external ports.</div>
</section>
</li>
<li>
<section class="detail" id="_rateVariables">
<h3>_rateVariables</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">java.util.List</span>&nbsp;<span class="member-name">_rateVariables</span></div>
<div class="block">The list of rate variables that this scheduler is listening to
 for rate changes.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>SDFScheduler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">SDFScheduler</span>()</div>
<div class="block">Construct a scheduler with no container(director)
  in the default workspace, the name of the scheduler is
  "Scheduler".</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(ptolemy.kernel.util.Workspace)">
<h3>SDFScheduler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">SDFScheduler</span>&#8203;(<span class="parameters">ptolemy.kernel.util.Workspace&nbsp;workspace)</span></div>
<div class="block">Construct a scheduler in the given workspace with the name
  "Scheduler".
  If the workspace argument is null, use the default workspace.
  The scheduler is added to the list of objects in the workspace.
  Increment the version number of the workspace.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>workspace</code> - Object for synchronization and version tracking.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(ptolemy.actor.Director,java.lang.String)">
<h3>SDFScheduler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">SDFScheduler</span>&#8203;(<span class="parameters">ptolemy.actor.Director&nbsp;container,
java.lang.String&nbsp;name)</span>
             throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException,
ptolemy.kernel.util.NameDuplicationException</span></div>
<div class="block">Construct a scheduler in the given container with the given name.
  The container argument must not be null, or a
  NullPointerException will be thrown.  This attribute will use the
  workspace of the container for synchronization and version counts.
  If the name argument is null, then the name is set to the empty string.
  Increment the version of the workspace.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>container</code> - The container.</dd>
<dd><code>name</code> - The name of this attribute.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the attribute is not of an
   acceptable class for the container, or if the name contains a period.</dd>
<dd><code>ptolemy.kernel.util.NameDuplicationException</code> - If the name coincides with
   an attribute already in the container.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="clone(ptolemy.kernel.util.Workspace)">
<h3>clone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.lang.Object</span>&nbsp;<span class="member-name">clone</span>&#8203;(<span class="parameters">ptolemy.kernel.util.Workspace&nbsp;workspace)</span>
                       throws <span class="exceptions">java.lang.CloneNotSupportedException</span></div>
<div class="block">Clone the scheduler into the specified workspace. The new object is
  <i>not</i> added to the directory of that workspace (you must do this
  yourself if you want it there).
  The result is a new scheduler with no container, and no valid schedule.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>clone</code>&nbsp;in class&nbsp;<code>ptolemy.actor.sched.Scheduler</code></dd>
<dt>Parameters:</dt>
<dd><code>workspace</code> - The workspace for the cloned object.</dd>
<dt>Returns:</dt>
<dd>The new Scheduler.</dd>
<dt>Throws:</dt>
<dd><code>java.lang.CloneNotSupportedException</code> - If one of the attributes
   cannot be cloned.</dd>
<dt>See Also:</dt>
<dd><code>NamedObj.exportMoML(Writer, int, String)</code>, 
<code>NamedObj.setDeferringChangeRequests(boolean)</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="declareRateDependency()">
<h3>declareRateDependency</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">declareRateDependency</span>()
                           throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Declare the rate dependency on any external ports of the model.
  SDF directors should invoke this method once during preinitialize.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BaseSDFScheduler.html#declareRateDependency()">declareRateDependency</a></code>&nbsp;in class&nbsp;<code><a href="BaseSDFScheduler.html" title="class in ptolemy.domains.sdf.kernel">BaseSDFScheduler</a></code></dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If there is a problem setting
  the rate dependency on an external port.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExternalRates()">
<h3>getExternalRates</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">java.util.Map</span>&nbsp;<span class="member-name">getExternalRates</span>()</div>
<div class="block">Get the external port rates.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a Map from external ports to the number of tokens that
  that port will produce or consume in each firing.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFiringCount(ptolemy.kernel.Entity)">
<h3>getFiringCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">getFiringCount</span>&#8203;(<span class="parameters">ptolemy.kernel.Entity&nbsp;entity)</span>
                   throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Create the schedule.  Return the number of times that the given
  entity will fire in a single iteration of the system.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - The entity that is being fired.</dd>
<dt>Returns:</dt>
<dd>The number of times that the given entity will fire</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If thrown by getSchedule().</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="valueChanged(ptolemy.kernel.util.Settable)">
<h3>valueChanged</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">valueChanged</span>&#8203;(<span class="parameters">ptolemy.kernel.util.Settable&nbsp;settable)</span></div>
<div class="block">React to the fact that the specified Settable has changed by
  invalidating the schedule.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>valueChanged</code>&nbsp;in interface&nbsp;<code>ptolemy.kernel.util.ValueListener</code></dd>
<dt>Parameters:</dt>
<dd><code>settable</code> - The object that has changed value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_checkDynamicRateVariables(ptolemy.actor.CompositeActor,java.util.List)">
<h3>_checkDynamicRateVariables</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_checkDynamicRateVariables</span>&#8203;(<span class="parameters">ptolemy.actor.CompositeActor&nbsp;model,
java.util.List&nbsp;rateVariables)</span>
                                   throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Populate the given set with the dynamic rate variables in the model.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - The model.</dd>
<dd><code>rateVariables</code> - A list of rate variables.  Each element
  is a Variable.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If throw while looking for dynamic
  rate parameters.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_computeMaximumFirings(ptolemy.actor.Actor)">
<h3>_computeMaximumFirings</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">_computeMaximumFirings</span>&#8203;(<span class="parameters">ptolemy.actor.Actor&nbsp;currentActor)</span>
                              throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Determine the number of times the given actor can fire, based on
  the number of tokens that are present on its inputs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentActor</code> - The actor.</dd>
<dt>Returns:</dt>
<dd>The number of times the actor can fire.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the rate parameters are invalid.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_countUnfulfilledInputs(ptolemy.actor.Actor,java.util.List,boolean)">
<h3>_countUnfulfilledInputs</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">_countUnfulfilledInputs</span>&#8203;(<span class="parameters">ptolemy.actor.Actor&nbsp;actor,
java.util.List&nbsp;actorList,
boolean&nbsp;resetCapacity)</span>
                               throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Count the number of input ports in the given actor that must be
  fulfilled before the actor can fire.  Ports that are connected
  to actors that we are not scheduling right now are assumed to
  be fulfilled.  Ports that have more tokens waiting on each of
  their channels than their input consumption rate are also
  already fulfilled.  All other ports are considered to be
  unfulfilled.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>actor</code> - The actor.</dd>
<dd><code>actorList</code> - The list of actors that we are scheduling.</dd>
<dd><code>resetCapacity</code> - If true, then reset the capacity of each
   receiver to infinite capacity (do this during initialization).</dd>
<dt>Returns:</dt>
<dd>The number of unfulfilled input ports of the given actor.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If any called method throws it.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_getFiringCount(ptolemy.kernel.Entity)">
<h3>_getFiringCount</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">_getFiringCount</span>&#8203;(<span class="parameters">ptolemy.kernel.Entity&nbsp;entity)</span></div>
<div class="block">Return the number of firings associated with the given entity. The
  number of firings is stored in the _firingVector map, indexed
  by the entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - One of the actors we are scheduling.</dd>
<dt>Returns:</dt>
<dd>The number of firings.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_getSchedule()">
<h3>_getSchedule</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">ptolemy.actor.sched.Schedule</span>&nbsp;<span class="member-name">_getSchedule</span>()
                                             throws <span class="exceptions">ptolemy.actor.sched.NotSchedulableException,
ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Return the scheduling sequence.  An exception will be thrown if the
  graph is not schedulable.  This occurs in the following circumstances:
  <ul>
  <li>The graph is not a connected graph.
  <li>No integer solution exists for the balance equations.
  <li>The graph contains cycles without delays (deadlock).
  <li>Multiple output ports are connected to the same broadcast
  relation. (equivalent to a non-deterministic merge)
  <li>The vectorizationFactor parameter of the director does
  not contain a positive integer.
  </ul></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>_getSchedule</code>&nbsp;in class&nbsp;<code>ptolemy.actor.sched.Scheduler</code></dd>
<dt>Returns:</dt>
<dd>A schedule of the deeply contained opaque entities
  in the firing order.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.actor.sched.NotSchedulableException</code> - If the rates specified for
  the model imply that the model is not statically schedulable.</dd>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the rate parameters
  of the model are not correct, or the computed rates for
  external ports are not correct.</dd>
<dt>See Also:</dt>
<dd><code>CompositeEntity.deepEntityList()</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_solveBalanceEquations(ptolemy.actor.CompositeActor,java.util.List,java.util.Map)">
<h3>_solveBalanceEquations</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">java.util.Map</span>&nbsp;<span class="member-name">_solveBalanceEquations</span>&#8203;(<span class="parameters">ptolemy.actor.CompositeActor&nbsp;container,
java.util.List&nbsp;actorList,
java.util.Map&nbsp;externalRates)</span>
                                        throws <span class="exceptions">ptolemy.actor.sched.NotSchedulableException,
ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Solve the balance equations for the list of connected Actors.
  For each actor, determine the ratio that determines the rate at
  which it should fire relative to the other actors for the graph to
  be live and operate within bounded memory. Normalize this ratio
  into integer, which is the minimum number of firings of the actor
  to satisfy the balance equations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>container</code> - The container that is being scheduled.</dd>
<dd><code>actorList</code> - The actors that we are interested in.</dd>
<dd><code>externalRates</code> - A map from external ports of container to
  the fractional rates of that port.  This starts out initialized with
  Fraction.ZERO and will be populated during this method.</dd>
<dt>Returns:</dt>
<dd>A map from each actor to its fractional
  firing.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.actor.sched.NotSchedulableException</code> - If the graph is not consistent
  under the synchronous dataflow model, or if the graph is not connected.</dd>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If any called method throws it.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_vectorizeFirings(int,java.util.Map,java.util.Map)">
<h3>_vectorizeFirings</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_vectorizeFirings</span>&#8203;(<span class="parameters">int&nbsp;vectorizationFactor,
java.util.Map&nbsp;entityToFiringsPerIteration,
java.util.Map&nbsp;externalRates)</span></div>
<div class="block">Multiply all of the repetition rates
  by the given vectorizationFactor.  This factor
  is normally the integer value of the vectorizationFactor
  parameter of the director.  Also multiply the production and
  consumption rates of the external ports of the model by the
  same amount. Also, convert the two maps in the arguments to
  contain Integers rather than Fractions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>vectorizationFactor</code> - An integer scaling factor to multiply
   the firing vector by.</dd>
<dd><code>entityToFiringsPerIteration</code> - Map representing the firing vector.</dd>
<dd><code>externalRates</code> - Map representing production rates of
  external ports.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_assertDynamicRateVariable(ptolemy.actor.CompositeActor,ptolemy.data.expr.Variable,java.util.List,ptolemy.actor.util.ConstVariableModelAnalysis)">
<h3>_assertDynamicRateVariable</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_assertDynamicRateVariable</span>&#8203;(<span class="parameters">ptolemy.actor.CompositeActor&nbsp;model,
ptolemy.data.expr.Variable&nbsp;variable,
java.util.List&nbsp;rateVariables,
ptolemy.actor.util.ConstVariableModelAnalysis&nbsp;analysis)</span>
                                 throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_checkDirectInputOutputConnection(ptolemy.actor.CompositeActor,java.util.Map)">
<h3>_checkDirectInputOutputConnection</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_checkDirectInputOutputConnection</span>&#8203;(<span class="parameters">ptolemy.actor.CompositeActor&nbsp;container,
java.util.Map&nbsp;externalRates)</span></div>
<div class="block">Update the The external rates of those directly connected input
  and output ports to be 1. So a direct connection will transfer
  one token in each execution of the schedule.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>container</code> - The container that is being scheduled.</dd>
<dd><code>externalRates</code> - A map from external ports of container to
  the fractional rates of that port.  The external rates of
  those directly connected input and output ports will be updated
  to be 1 during this method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_init()">
<h3>_init</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_init</span>()</div>
<div class="block">Create the parameter constrainBufferSizes and set its default
  value and type constraints.</div>
</section>
</li>
<li>
<section class="detail" id="_listenToRateVariable(ptolemy.data.expr.Variable,java.util.List)">
<h3>_listenToRateVariable</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_listenToRateVariable</span>&#8203;(<span class="parameters">ptolemy.data.expr.Variable&nbsp;variable,
java.util.List&nbsp;rateVariables)</span></div>
<div class="block">Add this scheduler as a value listener to the given variable
 and add the variable to the given list.  If the list already
 includes the variable, or the variable is null, then do
 nothing.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>variable</code> - A variable, which is a rate variable that this scheduler
 uses for scheduling.</dd>
<dd><code>rateVariables</code> - A list of rate variables.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_pickZeroRatePortActor(java.util.List)">
<h3>_pickZeroRatePortActor</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">ptolemy.kernel.ComponentEntity</span>&nbsp;<span class="member-name">_pickZeroRatePortActor</span>&#8203;(<span class="parameters">java.util.List&nbsp;actorList)</span>
                                                       throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Search the given list of actors for one that contains at least
  one port that has zero rate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>actorList</code> - The list of all of the actors to search.</dd>
<dt>Returns:</dt>
<dd>An actor that contains at least one zero rate port, or null
  if no actor has a zero rate port.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_propagatePort(ptolemy.actor.CompositeActor,ptolemy.actor.IOPort,java.util.Map,java.util.Map,java.util.LinkedList,java.util.LinkedList,java.util.Set,java.util.Set)">
<h3>_propagatePort</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_propagatePort</span>&#8203;(<span class="parameters">ptolemy.actor.CompositeActor&nbsp;container,
ptolemy.actor.IOPort&nbsp;currentPort,
java.util.Map&nbsp;entityToFiringsPerIteration,
java.util.Map&nbsp;externalRates,
java.util.LinkedList&nbsp;remainingActors,
java.util.LinkedList&nbsp;pendingActors,
java.util.Set&nbsp;clusteredActors,
java.util.Set&nbsp;clusteredExternalPorts)</span>
                     throws <span class="exceptions">ptolemy.actor.sched.NotSchedulableException,
ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Propagate the number of fractional firings decided for this actor
  through the specified port.  Compute the fractional
  firing ratio for each actor that is connected to the given port.
  If we have not previously computed the ratio for an
  actor, then store the value in the given map of firing ratios and move
  the actor from the remainingActors list to the pendingActors list.
  If the value has been previously computed and is not the same,
  then the model is not schedulable and an exception will be thrown.
  Note that ports directly contained by the given container are
  handled slightly differently from other ports.  Most importantly,
  their rates are propagated to ports they are connected to on the
  inside, as opposed to ports they are connected to on the outside.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>container</code> - The actor that is being scheduled.</dd>
<dd><code>currentPort</code> - The port that we are propagating from.</dd>
<dd><code>entityToFiringsPerIteration</code> - The current Map of
  fractional firing ratios for each actor.  This map will be
  updated if the ratio for any actor has not been previously
  computed.</dd>
<dd><code>externalRates</code> - A map from external ports of container to
  the fractional rates of that port.  This will be updated
  during this method.</dd>
<dd><code>remainingActors</code> - The set of actors that have not had their
  fractional firing set.  This will be updated during this method.</dd>
<dd><code>pendingActors</code> - The set of actors that have had their rate
  set, but have not been propagated onwards.  This will be updated
  during this method.</dd>
<dd><code>clusteredActors</code> - The set of actors that are within one
  cluster, i.e., they are connected.</dd>
<dd><code>clusteredExternalPorts</code> - The set of external ports that
  are connected with the same cluster of actors.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.actor.sched.NotSchedulableException</code> - If the model is not
  schedulable.</dd>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the expression for a
  rate parameter is not valid.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_scheduleConnectedActors(java.util.Map,java.util.List,ptolemy.actor.CompositeActor)">
<h3>_scheduleConnectedActors</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">ptolemy.actor.sched.Schedule</span>&nbsp;<span class="member-name">_scheduleConnectedActors</span>&#8203;(<span class="parameters">java.util.Map&nbsp;externalRates,
java.util.List&nbsp;actorList,
ptolemy.actor.CompositeActor&nbsp;container)</span>
                                                       throws <span class="exceptions">ptolemy.actor.sched.NotSchedulableException</span></div>
<div class="block">Create a schedule for a set of actors.  Given a valid
  firing vector, simulate the scheduling of the actors until the
  end of one synchronous dataflow iteration.
  Each actor will appear in the schedule exactly the number of times that
  minimally solves the balance equations and in an order where each
  actor has sufficient tokens on its inputs to fire.   Note that no
  claim is made that this is an optimal solution in any other sense.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>externalRates</code> - Map from external port to an Integer
   representing the number of tokens produced or consumed from
   that port during the course of an iteration.</dd>
<dd><code>actorList</code> - The actors that need to be scheduled.</dd>
<dd><code>container</code> - The container.</dd>
<dt>Returns:</dt>
<dd>An instance of the Schedule class, indicating the order
   in which actors should fire.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.actor.sched.NotSchedulableException</code> - If the algorithm encounters an SDF
   graph that is not consistent with the firing vector, or detects an
   inconsistent internal state, or detects a graph that cannot be
   scheduled.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_simulateExternalInputs(ptolemy.actor.IOPort,int,java.util.List,java.util.LinkedList)">
<h3>_simulateExternalInputs</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_simulateExternalInputs</span>&#8203;(<span class="parameters">ptolemy.actor.IOPort&nbsp;port,
int&nbsp;count,
java.util.List&nbsp;actorList,
java.util.LinkedList&nbsp;readyToScheduleActorList)</span>
                                throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Simulate the consumption of tokens from the given external input
  port.  This assumes the input ports have the number of tokens given
  by their rate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>port</code> - The external input port.</dd>
<dd><code>count</code> - The number of tokens assumed to be on that port.</dd>
<dd><code>actorList</code> - The list of actors.</dd>
<dd><code>readyToScheduleActorList</code> - The list of actors that are ready
   to be scheduled.  This will be updated if any actors that receive
   tokens from outputPort are now ready to fire.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If thrown while reading a token,
  setting the capacity of a receiver or counting unfulfilled input.s</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_simulateInputConsumption(ptolemy.actor.Actor,int)">
<h3>_simulateInputConsumption</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">_simulateInputConsumption</span>&#8203;(<span class="parameters">ptolemy.actor.Actor&nbsp;currentActor,
int&nbsp;firingCount)</span>
                                     throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Simulate the consumption of tokens by the actor during execution of
  the given number of firings. Also determine whether enough tokens
  still remain at the inputs of the actor  for it to fire again immediately.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentActor</code> - The actor to be fired.</dd>
<dd><code>firingCount</code> - The number of firings.</dd>
<dt>Returns:</dt>
<dd>true If the actor can fire again.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code> - If the rate parameters are invalid.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_simulateTokensCreated(ptolemy.actor.IOPort,int,java.util.List,java.util.LinkedList)">
<h3>_simulateTokensCreated</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">_simulateTokensCreated</span>&#8203;(<span class="parameters">ptolemy.actor.IOPort&nbsp;outputPort,
int&nbsp;createdTokens,
java.util.List&nbsp;actorList,
java.util.LinkedList&nbsp;readyToScheduleActorList)</span>
                             throws <span class="exceptions">ptolemy.kernel.util.IllegalActionException</span></div>
<div class="block">Simulate the creation of tokens by the given output port when
  its actor fires.  If any actors that receive tokens are then ready to
  fire, given that only actors in the actor list are being scheduled, then
  add those actors to the list of actors that are ready to schedule.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>outputPort</code> - The port that is creating the tokens.</dd>
<dd><code>createdTokens</code> - The number of tokens to create.</dd>
<dd><code>actorList</code> - The list of actors that are being scheduled.</dd>
<dd><code>readyToScheduleActorList</code> - The list of actors that are ready
   to be scheduled.  This will be updated if any actors that receive
   tokens from outputPort are now ready to fire.</dd>
<dt>Throws:</dt>
<dd><code>ptolemy.kernel.util.IllegalActionException</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
